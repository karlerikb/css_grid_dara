/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./app/js/App.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./app/js/App.ts":
/*!***********************!*\
  !*** ./app/js/App.ts ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _app_settings_Settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app/settings/Settings */ \"./app/js/app/settings/Settings.ts\");\n/* harmony import */ var _App_Player_Player__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./App/Player/Player */ \"./app/js/App/Player/Player.ts\");\n/* harmony import */ var _App_Game_PhaseOne_PhaseOne__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./App/Game/PhaseOne/PhaseOne */ \"./app/js/App/Game/PhaseOne/PhaseOne.ts\");\n/* harmony import */ var _App_Game_PhaseTwo_PhaseTwo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./App/Game/PhaseTwo/PhaseTwo */ \"./app/js/App/Game/PhaseTwo/PhaseTwo.ts\");\n/* harmony import */ var _App_Menu_Menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./App/Menu/Menu */ \"./app/js/App/Menu/Menu.ts\");\n\n\n\n\n\n// ...\nclass App {\n    constructor() {\n        this._settings = {};\n        this._menu = {};\n    }\n    init() {\n        console.log(\"App created!\");\n        this.initializeSettings();\n        this.initializePlayers();\n        this.initializePhases();\n        this.initializeMenu();\n    }\n    initializeSettings() {\n        this.settings = _app_settings_Settings__WEBPACK_IMPORTED_MODULE_0__[\"default\"].instance;\n    }\n    initializePlayers() {\n        console.log(\"Creating players...\");\n        const playerOne = new _App_Player_Player__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Mängija 1\", 1, \"one\", this.settings);\n        const playerTwo = new _App_Player_Player__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"Mängija 2\", 2, \"two\", this.settings);\n        this.settings.players.push(playerOne, playerTwo);\n        playerOne.active = true;\n    }\n    initializePhases() {\n        console.log(\"Initializing game phases...\");\n        const phaseOne = new _App_Game_PhaseOne_PhaseOne__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.settings);\n        const phaseTwo = new _App_Game_PhaseTwo_PhaseTwo__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.settings);\n        this.settings.phases.push(phaseOne, phaseTwo);\n        phaseOne.init();\n    }\n    initializeMenu() {\n        this.menu = _App_Menu_Menu__WEBPACK_IMPORTED_MODULE_4__[\"default\"].instance;\n        this.menu.init(this.settings);\n    }\n    static get instance() {\n        if (!App._instance) {\n            App._instance = new App();\n            App._instance.init();\n        }\n        return App._instance;\n    }\n    get settings() {\n        return this._settings;\n    }\n    get menu() {\n        return this._menu;\n    }\n    set settings(value) {\n        this._settings = value;\n    }\n    set menu(value) {\n        this._menu = value;\n    }\n}\nApp.instance;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvQXBwLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBwL2pzL0FwcC50cz83NThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXR0aW5ncyBmcm9tIFwiLi9hcHAvc2V0dGluZ3MvU2V0dGluZ3NcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vQXBwL1BsYXllci9QbGF5ZXJcIjtcbmltcG9ydCBQaGFzZU9uZSBmcm9tIFwiLi9BcHAvR2FtZS9QaGFzZU9uZS9QaGFzZU9uZVwiO1xuaW1wb3J0IFBoYXNlVHdvIGZyb20gXCIuL0FwcC9HYW1lL1BoYXNlVHdvL1BoYXNlVHdvXCI7XG5pbXBvcnQgTWVudSBmcm9tIFwiLi9BcHAvTWVudS9NZW51XCI7XG4vLyAuLi5cbmNsYXNzIEFwcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzID0ge307XG4gICAgICAgIHRoaXMuX21lbnUgPSB7fTtcbiAgICB9XG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJBcHAgY3JlYXRlZCFcIik7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVBsYXllcnMoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplUGhhc2VzKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1lbnUoKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZVNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gU2V0dGluZ3MuaW5zdGFuY2U7XG4gICAgfVxuICAgIGluaXRpYWxpemVQbGF5ZXJzKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIHBsYXllcnMuLi5cIik7XG4gICAgICAgIGNvbnN0IHBsYXllck9uZSA9IG5ldyBQbGF5ZXIoXCJNw6RuZ2lqYSAxXCIsIDEsIFwib25lXCIsIHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICBjb25zdCBwbGF5ZXJUd28gPSBuZXcgUGxheWVyKFwiTcOkbmdpamEgMlwiLCAyLCBcInR3b1wiLCB0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wbGF5ZXJzLnB1c2gocGxheWVyT25lLCBwbGF5ZXJUd28pO1xuICAgICAgICBwbGF5ZXJPbmUuYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZVBoYXNlcygpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgZ2FtZSBwaGFzZXMuLi5cIik7XG4gICAgICAgIGNvbnN0IHBoYXNlT25lID0gbmV3IFBoYXNlT25lKHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICBjb25zdCBwaGFzZVR3byA9IG5ldyBQaGFzZVR3byh0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5waGFzZXMucHVzaChwaGFzZU9uZSwgcGhhc2VUd28pO1xuICAgICAgICBwaGFzZU9uZS5pbml0KCk7XG4gICAgfVxuICAgIGluaXRpYWxpemVNZW51KCkge1xuICAgICAgICB0aGlzLm1lbnUgPSBNZW51Lmluc3RhbmNlO1xuICAgICAgICB0aGlzLm1lbnUuaW5pdCh0aGlzLnNldHRpbmdzKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCFBcHAuX2luc3RhbmNlKSB7XG4gICAgICAgICAgICBBcHAuX2luc3RhbmNlID0gbmV3IEFwcCgpO1xuICAgICAgICAgICAgQXBwLl9pbnN0YW5jZS5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFwcC5faW5zdGFuY2U7XG4gICAgfVxuICAgIGdldCBzZXR0aW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzO1xuICAgIH1cbiAgICBnZXQgbWVudSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lbnU7XG4gICAgfVxuICAgIHNldCBzZXR0aW5ncyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgbWVudSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tZW51ID0gdmFsdWU7XG4gICAgfVxufVxuQXBwLmluc3RhbmNlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/js/App.ts\n");

/***/ }),

/***/ "./app/js/App/Game/Game.ts":
/*!*********************************!*\
  !*** ./app/js/App/Game/Game.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Game; });\n/* harmony import */ var _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helper/Helper */ \"./app/js/App/Helper/Helper.ts\");\n\nclass Game {\n    constructor(settings) {\n        this.settings = settings;\n        this.pieceRemovalInProgress = false;\n        this.activatedPiece = {};\n        this.piecesOnTable = 0;\n        this.threeInRow = {};\n        this.fourInRow = {};\n        this.threeInRow = new ThreeInRow(this.settings);\n        this.fourInRow = new fourInRow(this.settings);\n    }\n    activatePlayer() {\n        const activePlayer = this.settings.players.find(player => player.active);\n        const inactivePlayer = this.settings.players.find(player => !player.active);\n        activePlayer.piecesContainer.classList.add(\"active\");\n        inactivePlayer.piecesContainer.classList.remove(\"active\");\n        // this.playerActivationVisualIndication(activePlayer);\n    }\n    playerActivationVisualIndication(player) {\n        // console.log(player.pieces);\n        player.pieces.forEach(piece => {\n            piece.element.classList.add(\"pieceActivation\");\n        });\n        setTimeout(() => {\n            player.pieces.forEach(piece => {\n                piece.element.classList.remove(\"pieceActivation\");\n            });\n        }, 1000);\n    }\n    switchPlayers() {\n        const activePlayer = this.settings.players.find(player => player.active);\n        const inactivePlayer = this.settings.players.find(player => !player.active);\n        activePlayer.active = false;\n        inactivePlayer.active = true;\n    }\n    testPhase() {\n        if (this.piecesOnTable < (2 * this.settings.piecesForEachPlayer)) {\n            this.configurePiecesDataForPhaseOne();\n        }\n        else if (this.piecesOnTable === (2 * this.settings.piecesForEachPlayer)) {\n            this.switchPhases();\n            this.activatePhase();\n            this.configurePiecesDataForPhaseTwo();\n        }\n        else {\n            this.configurePiecesDataForPhaseTwo();\n        }\n    }\n    switchPhases() {\n        const activePhase = this.settings.phases.find((phase) => phase.active);\n        const inactivePhase = this.settings.phases.find((phase) => !phase.active);\n        activePhase.active = false;\n        inactivePhase.active = true;\n    }\n    activatePhase() {\n        const activePhase = this.settings.phases.find((phase) => phase.active);\n        activePhase.init();\n    }\n    switchTurn() {\n        this.switchPlayers();\n        this.activatePlayer();\n        this.testPhase();\n    }\n    configurePiecesDataForPhaseOne() {\n        this.threeInRow.prohibitPositionsForPhaseOne();\n    }\n    configurePiecesDataForPhaseTwo() {\n        this.threeInRow.prohibitPositionsForPhaseTwo();\n    }\n    removeGameboardPositions() {\n        const temporaryPositionAmount = Array.from(document.querySelectorAll(\".gameboard > .temporaryPosition\")).length;\n        if (temporaryPositionAmount) {\n            Array.from(document.querySelectorAll(\".gameboard > .temporaryPosition\")).forEach(position => {\n                position.removeEventListener(\"click\", this.firstPhaseMoveHandler);\n                position.removeEventListener(\"click\", this.secondPhaseMoveHandler);\n                position.remove();\n            });\n        }\n    }\n    storeActivatedPiece(activatedPiece) {\n        this.activatedPiece = activatedPiece;\n    }\n    storeSelectedPosition(position) {\n        this.selectedPosition = position;\n    }\n    calculateTopPosition() {\n        const activatedPieceTop = this.activatedPiece.element.getBoundingClientRect().top;\n        const selectedPositionTop = this.selectedPosition.getBoundingClientRect().top;\n        const top = selectedPositionTop - activatedPieceTop;\n        this.settings.selectors.root.style.setProperty(\"--targetPositionTop\", `${top}px`);\n    }\n    calculateLeftPosition() {\n        const activatedPieceLeft = this.activatedPiece.element.getBoundingClientRect().left;\n        const selectedPositionLeft = this.selectedPosition.getBoundingClientRect().left;\n        const left = selectedPositionLeft - activatedPieceLeft;\n        this.settings.selectors.root.style.setProperty(\"--targetPositionLeft\", `${left}px`);\n    }\n    setAnimationTime() {\n        this.settings.selectors.root.style.setProperty(\"--animationTime\", this.settings.animationTime);\n    }\n    animationStarts() {\n        const activePlayer = this.settings.players.find(player => player.active);\n        const temporaryPositions = Array.from(document.querySelectorAll(\".gameboard > .temporaryPosition\"));\n        activePlayer.pieces.forEach(piece => piece.element.classList.add(\"notAllowed\"));\n        temporaryPositions.forEach(position => position.classList.add(\"notAllowed\"));\n        this.settings.animationInProgress = true;\n    }\n    animationEnds() {\n        const activePlayer = this.settings.players.find(player => player.active);\n        const inactivePlayer = this.settings.players.find(player => !player.active);\n        const temporaryPositions = Array.from(document.querySelectorAll(\".gameboard > .temporaryPosition\"));\n        activePlayer.pieces.forEach(piece => piece.element.classList.remove(\"notAllowed\"));\n        inactivePlayer.pieces.forEach(piece => piece.element.classList.remove(\"notAllowed\"));\n        temporaryPositions.forEach(position => position.classList.remove(\"notAllowed\"));\n        this.settings.animationInProgress = false;\n    }\n}\nclass ThreeInRow {\n    constructor(settings) {\n        this.settings = settings;\n        this.activePlayer = {};\n        this.inactivePlayer = {};\n        this.playerPositions = [];\n        this.doubleRowSelectionHandler = this.initializeDoubleRowSelection.bind(this);\n        this.selectRowHandler = this.selectedThreeInRow.bind(this);\n        this.selectRowHandlerForMobile = this.selectedThreeInRowForMobile.bind(this);\n        this.rowSelectionInProgress = false;\n        this.threeInRowSelections = [];\n    }\n    prohibitPositionsForPhaseOne() {\n        this.setPlayers();\n        this.combinePlayerPositions();\n        this.searchForThreeInRowProhibitedPositions();\n    }\n    prohibitPositionsForPhaseTwo() {\n        this.setPlayers();\n        this.combinePlayerPositions();\n        this.resetProhibitedPositions();\n    }\n    checkIfExists(activatedPiece) {\n        const threeInRows = [];\n        const topReach = this.getTopReach(activatedPiece);\n        const leftReach = this.getLeftReach(activatedPiece);\n        const bottomReach = this.getBottomReach(activatedPiece);\n        const rightReach = this.getRightReach(activatedPiece);\n        const topAndBottomReach = this.getTopAndBottomReach(activatedPiece);\n        const leftAndRightReach = this.getLeftAndRightReach(activatedPiece);\n        if (topReach)\n            threeInRows.push(topReach);\n        if (leftReach)\n            threeInRows.push(leftReach);\n        if (bottomReach)\n            threeInRows.push(bottomReach);\n        if (rightReach)\n            threeInRows.push(rightReach);\n        if (topAndBottomReach)\n            threeInRows.push(topAndBottomReach);\n        if (leftAndRightReach)\n            threeInRows.push(leftAndRightReach);\n        return this.markThreeInRows(threeInRows, activatedPiece.player);\n    }\n    getTopReach(piece) {\n        const reach = this.getReachOfThreeTop(piece.area);\n        const reachValidation = this.getReachValidation(reach, piece.player);\n        const validCount = reachValidation.reduce((valid, area) => valid + area);\n        if (validCount === 3)\n            return reach;\n        return false;\n    }\n    getLeftReach(piece) {\n        const reach = this.getReachOfThreeLeft(piece.area);\n        const reachValidation = this.getReachValidation(reach, piece.player);\n        const validCount = reachValidation.reduce((valid, area) => valid + area);\n        if (validCount === 3)\n            return reach;\n        return false;\n    }\n    getBottomReach(piece) {\n        const reach = this.getReachOfThreeBottom(piece.area);\n        const reachValidation = this.getReachValidation(reach, piece.player);\n        const validCount = reachValidation.reduce((valid, area) => valid + area);\n        if (validCount === 3)\n            return reach;\n        return false;\n    }\n    getRightReach(piece) {\n        const reach = this.getReachOfThreeRight(piece.area);\n        const reachValidation = this.getReachValidation(reach, piece.player);\n        const validCount = reachValidation.reduce((valid, area) => valid + area);\n        if (validCount === 3)\n            return reach;\n        return false;\n    }\n    getTopAndBottomReach(piece) {\n        const reach = this.getReachOfMiddleTopAndBottom(piece.area);\n        const reachValidation = this.getReachValidation(reach, piece.player);\n        const validCount = reachValidation.reduce((valid, area) => valid + area);\n        if (validCount === 3)\n            return reach;\n        return false;\n    }\n    getLeftAndRightReach(piece) {\n        const reach = this.getReachOfMiddleLeftAndRight(piece.area);\n        const reachValidation = this.getReachValidation(reach, piece.player);\n        const validCount = reachValidation.reduce((valid, area) => valid + area);\n        if (validCount === 3)\n            return reach;\n        return false;\n    }\n    markThreeInRows(threeInRows, player) {\n        if (threeInRows.length === 1) {\n            this.determineIndicationDimension(threeInRows, player);\n            return true;\n        }\n        if (threeInRows.length > 1) {\n            this.rowSelectionInProgress = true;\n            this.determineIndicationDimensions(threeInRows, player);\n            return true;\n        }\n        return false;\n    }\n    determineIndicationDimension(threeInRows, player) {\n        const [positions] = threeInRows;\n        const [firstPos, secondPos, thirdPos] = positions;\n        if (firstPos[1] === secondPos[1])\n            this.createHorizontalIndication(firstPos, secondPos, thirdPos, player);\n        if (firstPos[2] === secondPos[2])\n            this.createVerticalIndication(firstPos, secondPos, thirdPos, player);\n        this.markPiecesAsPartOfThreeInRow(positions);\n    }\n    determineIndicationDimensions(threeInRows, player) {\n        threeInRows.forEach(threeInRow => {\n            const [firstPos, secondPos, thirdPos] = threeInRow;\n            if (firstPos[1] === secondPos[1]) {\n                const indicationElement = this.createHorizontalIndication(firstPos, secondPos, thirdPos, player);\n                this.addRowSelectionEventListeners(indicationElement);\n                this.threeInRowSelections.push({ indicationElement, positions: threeInRow });\n            }\n            if (firstPos[2] === secondPos[2]) {\n                const indicationElement = this.createVerticalIndication(firstPos, secondPos, thirdPos, player);\n                this.addRowSelectionEventListeners(indicationElement);\n                this.threeInRowSelections.push({ indicationElement, positions: threeInRow });\n            }\n        });\n    }\n    markPiecesAsPartOfThreeInRow(threeInRow) {\n        const activePlayer = this.settings.players.find(player => player.active);\n        threeInRow.forEach(area => {\n            const piece = activePlayer.pieces.find(piece => piece.area === area);\n            piece.partOfThreeInRow = true;\n        });\n    }\n    addRowSelectionEventListeners(indicationElement) {\n        indicationElement.classList.add(\"doubleRowIndication\");\n        indicationElement.addEventListener(\"click\", this.doubleRowSelectionHandler);\n        indicationElement.addEventListener(\"dblclick\", this.selectRowHandler);\n        indicationElement.addEventListener(\"touchstart\", this.selectRowHandlerForMobile);\n    }\n    removeSelectionEventListeners(indicationElement) {\n        indicationElement.removeEventListener(\"click\", this.doubleRowSelectionHandler);\n        indicationElement.removeEventListener(\"dblclick\", this.selectRowHandler);\n        indicationElement.removeEventListener(\"touchstart\", this.selectRowHandlerForMobile);\n        indicationElement.classList.remove(\"selectedRow\", \"doubleRowIndication\");\n    }\n    initializeDoubleRowSelection(e) {\n        const threeInRows = Array.from(document.querySelectorAll(\".threeInRow.doubleRowIndication\"));\n        threeInRows.forEach(threeInRow => {\n            threeInRow.classList.remove(\"selectedRow\");\n        });\n        e.target.classList.add(\"selectedRow\");\n    }\n    selectedThreeInRow(e) {\n        const activePhase = this.settings.phases.find((phase) => phase.active);\n        const doubleThreeInRows = Array.from(document.querySelectorAll(\".threeInRow.doubleRowIndication\"));\n        doubleThreeInRows.forEach(threeInRow => {\n            this.removeSelectionEventListeners(threeInRow);\n        });\n        this.markOnlySelectedPiecesAsPartOfThreeInRow(e.target);\n        this.removeNotSelectedRowIndicationElement(doubleThreeInRows, e.target);\n        this.resetPieceRemovalFlags(activePhase);\n        activePhase.initiateOpponentPieceRemoval();\n        const threeInRows = this.settings.players.find(player => player.active).threeInRows;\n        const toBeRemovedObj = threeInRows.find(row => row.element !== e.target);\n        threeInRows.splice(threeInRows.indexOf(toBeRemovedObj), 1);\n        this.rowSelectionInProgress = false;\n        // ...\n        activePhase.initiateOpponentPieceRemoval();\n    }\n    selectedThreeInRowForMobile(e) {\n        console.log(e.timeStamp);\n    }\n    markOnlySelectedPiecesAsPartOfThreeInRow(selectedRow) {\n        const threeInRow = this.threeInRowSelections.find((row) => row.indicationElement === selectedRow);\n        this.markPiecesAsPartOfThreeInRow(threeInRow.positions);\n    }\n    removeNotSelectedRowIndicationElement(doubleThreeInRows, selectedRow) {\n        const notSelectedRow = doubleThreeInRows.find(row => row !== selectedRow);\n        notSelectedRow.remove();\n    }\n    resetPieceRemovalFlags(activePhase) {\n        this.rowSelectionInProgress = false;\n        activePhase.pieceRemovalInProgress = false;\n    }\n    createHorizontalIndication(firstPos, secondPos, thirdPos, player) {\n        const area = `${thirdPos} / ${firstPos} / ${firstPos} / ${thirdPos}`;\n        const threeInRow = _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            type: \"div\", class: `player${player.numberStringUpperCase} threeInRow`, area,\n            parent: this.settings.selectors.gameboard\n        });\n        player.threeInRows.push({\n            positions: [firstPos, secondPos, thirdPos],\n            element: threeInRow\n        });\n        return threeInRow;\n    }\n    createVerticalIndication(firstPos, secondPos, thirdPos, player) {\n        const area = `${firstPos} / ${firstPos} / ${thirdPos} / ${thirdPos}`;\n        const threeInRow = _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            type: \"div\", class: `player${player.numberStringUpperCase} threeInRow`, area,\n            parent: this.settings.selectors.gameboard\n        });\n        player.threeInRows.push({\n            positions: [firstPos, secondPos, thirdPos],\n            element: threeInRow\n        });\n        return threeInRow;\n    }\n    getReachOfThreeTop(position) {\n        const row = +position[1], column = +position[2];\n        const reach = [\n            (row < 3) ? null : `a${row - 2}${column}`,\n            (row < 2) ? null : `a${row - 1}${column}`,\n            position\n        ];\n        return reach;\n    }\n    getReachOfThreeBottom(position) {\n        const row = +position[1], column = +position[2];\n        const reach = [\n            position,\n            (row > 5) ? null : `a${row + 1}${column}`,\n            (row > 4) ? null : `a${row + 2}${column}`\n        ];\n        return reach;\n    }\n    getReachOfThreeLeft(position) {\n        const row = +position[1], column = +position[2];\n        const reach = [\n            (column < 3) ? null : `a${row}${column - 2}`,\n            (column < 2) ? null : `a${row}${column - 1}`,\n            position\n        ];\n        return reach;\n    }\n    getReachOfThreeRight(position) {\n        const row = +position[1], column = +position[2];\n        const reach = [\n            position,\n            (column > 5) ? null : `a${row}${column + 1}`,\n            (column > 4) ? null : `a${row}${column + 2}`\n        ];\n        return reach;\n    }\n    getReachOfMiddleTopAndBottom(position) {\n        const row = +position[1], column = +position[2];\n        const reach = [\n            (row < 2) ? null : `a${row - 1}${column}`,\n            position,\n            (row > 5) ? null : `a${row + 1}${column}`\n        ];\n        return reach;\n    }\n    getReachOfMiddleLeftAndRight(position) {\n        const row = +position[1], column = +position[2];\n        const reach = [\n            (column < 2) ? null : `a${row}${column - 1}`,\n            position,\n            (column > 5) ? null : `a${row}${column + 1}`\n        ];\n        return reach;\n    }\n    setPlayers() {\n        this.activePlayer = this.settings.players.find(player => player.active);\n        this.inactivePlayer = this.settings.players.find(player => !player.active);\n    }\n    combinePlayerPositions() {\n        const activePlayerPositions = this.activePlayer.piecePositionsOnGameboard;\n        const inactivePlayerPositions = this.inactivePlayer.piecePositionsOnGameboard;\n        const playerPositions = activePlayerPositions.concat(inactivePlayerPositions);\n        this.playerPositions = playerPositions;\n    }\n    searchForThreeInRowProhibitedPositions() {\n        this.settings.players.forEach(player => {\n            this.searchHorizontallyThrees(player);\n            this.searchVerticallyThrees(player);\n        });\n    }\n    searchHorizontallyThrees(player) {\n        player.piecePositionsOnGameboard.forEach(position => {\n            const reach = this.getReachOfFiveHorizontally(position);\n            const reachValidation = this.getReachValidation(reach, player);\n            const validCount = reachValidation.reduce((valid, area) => valid + area);\n            if (validCount > 1)\n                this.divideReachIntoThrees(reach, player);\n        });\n    }\n    searchVerticallyThrees(player) {\n        player.piecePositionsOnGameboard.forEach(position => {\n            const reach = this.getReachOfFiveVertically(position);\n            const reachValidation = this.getReachValidation(reach, player);\n            const validCount = reachValidation.reduce((valid, area) => valid + area);\n            if (validCount > 1)\n                this.divideReachIntoThrees(reach, player);\n        });\n    }\n    getReachOfFiveVertically(position) {\n        const row = +position[1], column = +position[2];\n        const reach = [\n            (row < 3) ? null : `a${row - 2}${column}`,\n            (row < 2) ? null : `a${row - 1}${column}`,\n            position,\n            (row > 5) ? null : `a${row + 1}${column}`,\n            (row > 4) ? null : `a${row + 2}${column}`\n        ];\n        return reach;\n    }\n    getReachOfFiveHorizontally(position) {\n        const row = +position[1], column = +position[2];\n        const reach = [\n            (column < 3) ? null : `a${row}${column - 2}`,\n            (column < 2) ? null : `a${row}${column - 1}`,\n            position,\n            (column > 5) ? null : `a${row}${column + 1}`,\n            (column > 4) ? null : `a${row}${column + 2}`\n        ];\n        return reach;\n    }\n    getReachValidation(reach, player) {\n        const reachValidation = reach.map(position => {\n            if (!position)\n                return 0;\n            if (player.piecePositionsOnGameboard.includes(position)) {\n                if (player.pieces.find(piece => piece.area === position).partOfThreeInRow)\n                    return 0;\n                else\n                    return 1;\n            }\n            if (!player.piecePositionsOnGameboard.includes(position))\n                return 0;\n            return 1;\n        });\n        return reachValidation;\n    }\n    divideReachIntoThrees(reach, player) {\n        for (let i = 0; i < 3; i++) {\n            const threeReachPositions = reach.slice(i, i + 3);\n            const threePositions = threeReachPositions.map(position => {\n                if (!position)\n                    return 0;\n                return (player.piecePositionsOnGameboard.includes(position) ? 1 : 0);\n            });\n            const validCount = threePositions.reduce((valid, area) => valid + area);\n            if (validCount === 2)\n                this.determineProhibitedPositions(threeReachPositions, player);\n        }\n    }\n    determineProhibitedPositions(reachPositions, player) {\n        reachPositions.forEach(position => {\n            if (position) {\n                if (!this.playerPositions.includes(position) && !player.prohibitedPositions.includes(position)) {\n                    player.prohibitedPositions.push(position);\n                }\n            }\n        });\n    }\n    resetProhibitedPositions() {\n        this.activePlayer.prohibitedPositions = this.playerPositions;\n        this.inactivePlayer.prohibitedPositions = this.playerPositions;\n    }\n}\nclass fourInRow {\n    constructor(settings) {\n        this.settings = settings;\n        this.activePiece = {};\n        this.activePlayer = {};\n        this.selectedPosition = \"\";\n    }\n    exists(area, activatedPiece) {\n        this.setProperties(activatedPiece, area);\n        return this.searchForFourInRow();\n    }\n    setProperties(activatedPiece, area) {\n        this.setActivatedPiece(activatedPiece);\n        this.setSelectedPosition(area);\n        this.setActivePlayer();\n    }\n    searchForFourInRow() {\n        const horizontalFourInRow = this.searchHorizontallyFours();\n        const verticalFourInRow = this.searchVerticallyFours();\n        return !(horizontalFourInRow || verticalFourInRow);\n    }\n    setActivatedPiece(activatedPiece) {\n        this.activePiece = activatedPiece;\n    }\n    setActivePlayer() {\n        this.activePlayer = this.settings.players.find(player => player.active);\n    }\n    setSelectedPosition(area) {\n        this.selectedPosition = area;\n    }\n    searchHorizontallyFours() {\n        const reach = this.getReachOfSevenHorizontally();\n        const reachValidation = this.getReachValidation(reach);\n        const validCount = reachValidation.reduce((valid, area) => valid + area);\n        if (validCount > 3)\n            return this.divideReachIntoFours(reachValidation);\n        return false;\n    }\n    searchVerticallyFours() {\n        const reach = this.getReachOfSevenVertically();\n        const reachValidation = this.getReachValidation(reach);\n        const validCount = reachValidation.reduce((valid, area) => valid + area);\n        if (validCount > 3)\n            return this.divideReachIntoFours(reachValidation);\n        return false;\n    }\n    getReachOfSevenHorizontally() {\n        const row = +this.selectedPosition[1], column = +this.selectedPosition[2];\n        const reach = [\n            (column < 4) ? null : `a${row}${column - 3}`,\n            (column < 3) ? null : `a${row}${column - 2}`,\n            (column < 2) ? null : `a${row}${column - 1}`,\n            this.selectedPosition,\n            (column > 5) ? null : `a${row}${column + 1}`,\n            (column > 4) ? null : `a${row}${column + 2}`,\n            (column > 3) ? null : `a${row}${column + 3}`\n        ];\n        return reach;\n    }\n    getReachOfSevenVertically() {\n        const row = +this.selectedPosition[1], column = +this.selectedPosition[2];\n        const reach = [\n            (row < 4) ? null : `a${row - 3}${column}`,\n            (row < 3) ? null : `a${row - 2}${column}`,\n            (row < 2) ? null : `a${row - 1}${column}`,\n            this.selectedPosition,\n            (row > 5) ? null : `a${row + 1}${column}`,\n            (row > 4) ? null : `a${row + 2}${column}`,\n            (row > 3) ? null : `a${row + 3}${column}`\n        ];\n        return reach;\n    }\n    getReachValidation(reach) {\n        const reachValidation = reach.map(position => {\n            if (!position)\n                return 0;\n            if (position === this.activePiece.area)\n                return 0;\n            if (position === this.selectedPosition) {\n                return 1;\n            }\n            if (!this.activePlayer.piecePositionsOnGameboard.includes(position))\n                return 0;\n            return 1;\n        });\n        return reachValidation;\n    }\n    divideReachIntoFours(reachValidation) {\n        let fourInRow = false;\n        for (let i = 0; i < 4; i++) {\n            const fourReachValidation = reachValidation.slice(i, i + 4);\n            const validCount = fourReachValidation.reduce((valid, area) => valid + area);\n            if (validCount === 4) {\n                fourInRow = true;\n                break;\n            }\n        }\n        return fourInRow;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvQXBwL0dhbWUvR2FtZS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2FwcC9qcy9BcHAvR2FtZS9HYW1lLnRzP2I2NTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhlbHBlciBmcm9tIFwiLi4vSGVscGVyL0hlbHBlclwiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLnBpZWNlUmVtb3ZhbEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRQaWVjZSA9IHt9O1xuICAgICAgICB0aGlzLnBpZWNlc09uVGFibGUgPSAwO1xuICAgICAgICB0aGlzLnRocmVlSW5Sb3cgPSB7fTtcbiAgICAgICAgdGhpcy5mb3VySW5Sb3cgPSB7fTtcbiAgICAgICAgdGhpcy50aHJlZUluUm93ID0gbmV3IFRocmVlSW5Sb3codGhpcy5zZXR0aW5ncyk7XG4gICAgICAgIHRoaXMuZm91ckluUm93ID0gbmV3IGZvdXJJblJvdyh0aGlzLnNldHRpbmdzKTtcbiAgICB9XG4gICAgYWN0aXZhdGVQbGF5ZXIoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiBwbGF5ZXIuYWN0aXZlKTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVQbGF5ZXIgPSB0aGlzLnNldHRpbmdzLnBsYXllcnMuZmluZChwbGF5ZXIgPT4gIXBsYXllci5hY3RpdmUpO1xuICAgICAgICBhY3RpdmVQbGF5ZXIucGllY2VzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgIGluYWN0aXZlUGxheWVyLnBpZWNlc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICAvLyB0aGlzLnBsYXllckFjdGl2YXRpb25WaXN1YWxJbmRpY2F0aW9uKGFjdGl2ZVBsYXllcik7XG4gICAgfVxuICAgIHBsYXllckFjdGl2YXRpb25WaXN1YWxJbmRpY2F0aW9uKHBsYXllcikge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhwbGF5ZXIucGllY2VzKTtcbiAgICAgICAgcGxheWVyLnBpZWNlcy5mb3JFYWNoKHBpZWNlID0+IHtcbiAgICAgICAgICAgIHBpZWNlLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBpZWNlQWN0aXZhdGlvblwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcGxheWVyLnBpZWNlcy5mb3JFYWNoKHBpZWNlID0+IHtcbiAgICAgICAgICAgICAgICBwaWVjZS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwaWVjZUFjdGl2YXRpb25cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICAgIHN3aXRjaFBsYXllcnMoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiBwbGF5ZXIuYWN0aXZlKTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVQbGF5ZXIgPSB0aGlzLnNldHRpbmdzLnBsYXllcnMuZmluZChwbGF5ZXIgPT4gIXBsYXllci5hY3RpdmUpO1xuICAgICAgICBhY3RpdmVQbGF5ZXIuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGluYWN0aXZlUGxheWVyLmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIHRlc3RQaGFzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGllY2VzT25UYWJsZSA8ICgyICogdGhpcy5zZXR0aW5ncy5waWVjZXNGb3JFYWNoUGxheWVyKSkge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmVQaWVjZXNEYXRhRm9yUGhhc2VPbmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBpZWNlc09uVGFibGUgPT09ICgyICogdGhpcy5zZXR0aW5ncy5waWVjZXNGb3JFYWNoUGxheWVyKSkge1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2hQaGFzZXMoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVQaGFzZSgpO1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmVQaWVjZXNEYXRhRm9yUGhhc2VUd28oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlUGllY2VzRGF0YUZvclBoYXNlVHdvKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoUGhhc2VzKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVQaGFzZSA9IHRoaXMuc2V0dGluZ3MucGhhc2VzLmZpbmQoKHBoYXNlKSA9PiBwaGFzZS5hY3RpdmUpO1xuICAgICAgICBjb25zdCBpbmFjdGl2ZVBoYXNlID0gdGhpcy5zZXR0aW5ncy5waGFzZXMuZmluZCgocGhhc2UpID0+ICFwaGFzZS5hY3RpdmUpO1xuICAgICAgICBhY3RpdmVQaGFzZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaW5hY3RpdmVQaGFzZS5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgICBhY3RpdmF0ZVBoYXNlKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVQaGFzZSA9IHRoaXMuc2V0dGluZ3MucGhhc2VzLmZpbmQoKHBoYXNlKSA9PiBwaGFzZS5hY3RpdmUpO1xuICAgICAgICBhY3RpdmVQaGFzZS5pbml0KCk7XG4gICAgfVxuICAgIHN3aXRjaFR1cm4oKSB7XG4gICAgICAgIHRoaXMuc3dpdGNoUGxheWVycygpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlUGxheWVyKCk7XG4gICAgICAgIHRoaXMudGVzdFBoYXNlKCk7XG4gICAgfVxuICAgIGNvbmZpZ3VyZVBpZWNlc0RhdGFGb3JQaGFzZU9uZSgpIHtcbiAgICAgICAgdGhpcy50aHJlZUluUm93LnByb2hpYml0UG9zaXRpb25zRm9yUGhhc2VPbmUoKTtcbiAgICB9XG4gICAgY29uZmlndXJlUGllY2VzRGF0YUZvclBoYXNlVHdvKCkge1xuICAgICAgICB0aGlzLnRocmVlSW5Sb3cucHJvaGliaXRQb3NpdGlvbnNGb3JQaGFzZVR3bygpO1xuICAgIH1cbiAgICByZW1vdmVHYW1lYm9hcmRQb3NpdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHRlbXBvcmFyeVBvc2l0aW9uQW1vdW50ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdhbWVib2FyZCA+IC50ZW1wb3JhcnlQb3NpdGlvblwiKSkubGVuZ3RoO1xuICAgICAgICBpZiAodGVtcG9yYXJ5UG9zaXRpb25BbW91bnQpIHtcbiAgICAgICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5nYW1lYm9hcmQgPiAudGVtcG9yYXJ5UG9zaXRpb25cIikpLmZvckVhY2gocG9zaXRpb24gPT4ge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmZpcnN0UGhhc2VNb3ZlSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuc2Vjb25kUGhhc2VNb3ZlSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9yZUFjdGl2YXRlZFBpZWNlKGFjdGl2YXRlZFBpZWNlKSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUGllY2UgPSBhY3RpdmF0ZWRQaWVjZTtcbiAgICB9XG4gICAgc3RvcmVTZWxlY3RlZFBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIH1cbiAgICBjYWxjdWxhdGVUb3BQb3NpdGlvbigpIHtcbiAgICAgICAgY29uc3QgYWN0aXZhdGVkUGllY2VUb3AgPSB0aGlzLmFjdGl2YXRlZFBpZWNlLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICBjb25zdCBzZWxlY3RlZFBvc2l0aW9uVG9wID0gdGhpcy5zZWxlY3RlZFBvc2l0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgICAgY29uc3QgdG9wID0gc2VsZWN0ZWRQb3NpdGlvblRvcCAtIGFjdGl2YXRlZFBpZWNlVG9wO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnNlbGVjdG9ycy5yb290LnN0eWxlLnNldFByb3BlcnR5KFwiLS10YXJnZXRQb3NpdGlvblRvcFwiLCBgJHt0b3B9cHhgKTtcbiAgICB9XG4gICAgY2FsY3VsYXRlTGVmdFBvc2l0aW9uKCkge1xuICAgICAgICBjb25zdCBhY3RpdmF0ZWRQaWVjZUxlZnQgPSB0aGlzLmFjdGl2YXRlZFBpZWNlLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQb3NpdGlvbkxlZnQgPSB0aGlzLnNlbGVjdGVkUG9zaXRpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgICAgY29uc3QgbGVmdCA9IHNlbGVjdGVkUG9zaXRpb25MZWZ0IC0gYWN0aXZhdGVkUGllY2VMZWZ0O1xuICAgICAgICB0aGlzLnNldHRpbmdzLnNlbGVjdG9ycy5yb290LnN0eWxlLnNldFByb3BlcnR5KFwiLS10YXJnZXRQb3NpdGlvbkxlZnRcIiwgYCR7bGVmdH1weGApO1xuICAgIH1cbiAgICBzZXRBbmltYXRpb25UaW1lKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLnNlbGVjdG9ycy5yb290LnN0eWxlLnNldFByb3BlcnR5KFwiLS1hbmltYXRpb25UaW1lXCIsIHRoaXMuc2V0dGluZ3MuYW5pbWF0aW9uVGltZSk7XG4gICAgfVxuICAgIGFuaW1hdGlvblN0YXJ0cygpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlUGxheWVyID0gdGhpcy5zZXR0aW5ncy5wbGF5ZXJzLmZpbmQocGxheWVyID0+IHBsYXllci5hY3RpdmUpO1xuICAgICAgICBjb25zdCB0ZW1wb3JhcnlQb3NpdGlvbnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FtZWJvYXJkID4gLnRlbXBvcmFyeVBvc2l0aW9uXCIpKTtcbiAgICAgICAgYWN0aXZlUGxheWVyLnBpZWNlcy5mb3JFYWNoKHBpZWNlID0+IHBpZWNlLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm5vdEFsbG93ZWRcIikpO1xuICAgICAgICB0ZW1wb3JhcnlQb3NpdGlvbnMuZm9yRWFjaChwb3NpdGlvbiA9PiBwb3NpdGlvbi5jbGFzc0xpc3QuYWRkKFwibm90QWxsb3dlZFwiKSk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuYW5pbWF0aW9uSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgfVxuICAgIGFuaW1hdGlvbkVuZHMoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiBwbGF5ZXIuYWN0aXZlKTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVQbGF5ZXIgPSB0aGlzLnNldHRpbmdzLnBsYXllcnMuZmluZChwbGF5ZXIgPT4gIXBsYXllci5hY3RpdmUpO1xuICAgICAgICBjb25zdCB0ZW1wb3JhcnlQb3NpdGlvbnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FtZWJvYXJkID4gLnRlbXBvcmFyeVBvc2l0aW9uXCIpKTtcbiAgICAgICAgYWN0aXZlUGxheWVyLnBpZWNlcy5mb3JFYWNoKHBpZWNlID0+IHBpZWNlLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm5vdEFsbG93ZWRcIikpO1xuICAgICAgICBpbmFjdGl2ZVBsYXllci5waWVjZXMuZm9yRWFjaChwaWVjZSA9PiBwaWVjZS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJub3RBbGxvd2VkXCIpKTtcbiAgICAgICAgdGVtcG9yYXJ5UG9zaXRpb25zLmZvckVhY2gocG9zaXRpb24gPT4gcG9zaXRpb24uY2xhc3NMaXN0LnJlbW92ZShcIm5vdEFsbG93ZWRcIikpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmFuaW1hdGlvbkluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG59XG5jbGFzcyBUaHJlZUluUm93IHtcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgIHRoaXMuYWN0aXZlUGxheWVyID0ge307XG4gICAgICAgIHRoaXMuaW5hY3RpdmVQbGF5ZXIgPSB7fTtcbiAgICAgICAgdGhpcy5wbGF5ZXJQb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5kb3VibGVSb3dTZWxlY3Rpb25IYW5kbGVyID0gdGhpcy5pbml0aWFsaXplRG91YmxlUm93U2VsZWN0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2VsZWN0Um93SGFuZGxlciA9IHRoaXMuc2VsZWN0ZWRUaHJlZUluUm93LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2VsZWN0Um93SGFuZGxlckZvck1vYmlsZSA9IHRoaXMuc2VsZWN0ZWRUaHJlZUluUm93Rm9yTW9iaWxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucm93U2VsZWN0aW9uSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRocmVlSW5Sb3dTZWxlY3Rpb25zID0gW107XG4gICAgfVxuICAgIHByb2hpYml0UG9zaXRpb25zRm9yUGhhc2VPbmUoKSB7XG4gICAgICAgIHRoaXMuc2V0UGxheWVycygpO1xuICAgICAgICB0aGlzLmNvbWJpbmVQbGF5ZXJQb3NpdGlvbnMoKTtcbiAgICAgICAgdGhpcy5zZWFyY2hGb3JUaHJlZUluUm93UHJvaGliaXRlZFBvc2l0aW9ucygpO1xuICAgIH1cbiAgICBwcm9oaWJpdFBvc2l0aW9uc0ZvclBoYXNlVHdvKCkge1xuICAgICAgICB0aGlzLnNldFBsYXllcnMoKTtcbiAgICAgICAgdGhpcy5jb21iaW5lUGxheWVyUG9zaXRpb25zKCk7XG4gICAgICAgIHRoaXMucmVzZXRQcm9oaWJpdGVkUG9zaXRpb25zKCk7XG4gICAgfVxuICAgIGNoZWNrSWZFeGlzdHMoYWN0aXZhdGVkUGllY2UpIHtcbiAgICAgICAgY29uc3QgdGhyZWVJblJvd3MgPSBbXTtcbiAgICAgICAgY29uc3QgdG9wUmVhY2ggPSB0aGlzLmdldFRvcFJlYWNoKGFjdGl2YXRlZFBpZWNlKTtcbiAgICAgICAgY29uc3QgbGVmdFJlYWNoID0gdGhpcy5nZXRMZWZ0UmVhY2goYWN0aXZhdGVkUGllY2UpO1xuICAgICAgICBjb25zdCBib3R0b21SZWFjaCA9IHRoaXMuZ2V0Qm90dG9tUmVhY2goYWN0aXZhdGVkUGllY2UpO1xuICAgICAgICBjb25zdCByaWdodFJlYWNoID0gdGhpcy5nZXRSaWdodFJlYWNoKGFjdGl2YXRlZFBpZWNlKTtcbiAgICAgICAgY29uc3QgdG9wQW5kQm90dG9tUmVhY2ggPSB0aGlzLmdldFRvcEFuZEJvdHRvbVJlYWNoKGFjdGl2YXRlZFBpZWNlKTtcbiAgICAgICAgY29uc3QgbGVmdEFuZFJpZ2h0UmVhY2ggPSB0aGlzLmdldExlZnRBbmRSaWdodFJlYWNoKGFjdGl2YXRlZFBpZWNlKTtcbiAgICAgICAgaWYgKHRvcFJlYWNoKVxuICAgICAgICAgICAgdGhyZWVJblJvd3MucHVzaCh0b3BSZWFjaCk7XG4gICAgICAgIGlmIChsZWZ0UmVhY2gpXG4gICAgICAgICAgICB0aHJlZUluUm93cy5wdXNoKGxlZnRSZWFjaCk7XG4gICAgICAgIGlmIChib3R0b21SZWFjaClcbiAgICAgICAgICAgIHRocmVlSW5Sb3dzLnB1c2goYm90dG9tUmVhY2gpO1xuICAgICAgICBpZiAocmlnaHRSZWFjaClcbiAgICAgICAgICAgIHRocmVlSW5Sb3dzLnB1c2gocmlnaHRSZWFjaCk7XG4gICAgICAgIGlmICh0b3BBbmRCb3R0b21SZWFjaClcbiAgICAgICAgICAgIHRocmVlSW5Sb3dzLnB1c2godG9wQW5kQm90dG9tUmVhY2gpO1xuICAgICAgICBpZiAobGVmdEFuZFJpZ2h0UmVhY2gpXG4gICAgICAgICAgICB0aHJlZUluUm93cy5wdXNoKGxlZnRBbmRSaWdodFJlYWNoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFya1RocmVlSW5Sb3dzKHRocmVlSW5Sb3dzLCBhY3RpdmF0ZWRQaWVjZS5wbGF5ZXIpO1xuICAgIH1cbiAgICBnZXRUb3BSZWFjaChwaWVjZSkge1xuICAgICAgICBjb25zdCByZWFjaCA9IHRoaXMuZ2V0UmVhY2hPZlRocmVlVG9wKHBpZWNlLmFyZWEpO1xuICAgICAgICBjb25zdCByZWFjaFZhbGlkYXRpb24gPSB0aGlzLmdldFJlYWNoVmFsaWRhdGlvbihyZWFjaCwgcGllY2UucGxheWVyKTtcbiAgICAgICAgY29uc3QgdmFsaWRDb3VudCA9IHJlYWNoVmFsaWRhdGlvbi5yZWR1Y2UoKHZhbGlkLCBhcmVhKSA9PiB2YWxpZCArIGFyZWEpO1xuICAgICAgICBpZiAodmFsaWRDb3VudCA9PT0gMylcbiAgICAgICAgICAgIHJldHVybiByZWFjaDtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXRMZWZ0UmVhY2gocGllY2UpIHtcbiAgICAgICAgY29uc3QgcmVhY2ggPSB0aGlzLmdldFJlYWNoT2ZUaHJlZUxlZnQocGllY2UuYXJlYSk7XG4gICAgICAgIGNvbnN0IHJlYWNoVmFsaWRhdGlvbiA9IHRoaXMuZ2V0UmVhY2hWYWxpZGF0aW9uKHJlYWNoLCBwaWVjZS5wbGF5ZXIpO1xuICAgICAgICBjb25zdCB2YWxpZENvdW50ID0gcmVhY2hWYWxpZGF0aW9uLnJlZHVjZSgodmFsaWQsIGFyZWEpID0+IHZhbGlkICsgYXJlYSk7XG4gICAgICAgIGlmICh2YWxpZENvdW50ID09PSAzKVxuICAgICAgICAgICAgcmV0dXJuIHJlYWNoO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdldEJvdHRvbVJlYWNoKHBpZWNlKSB7XG4gICAgICAgIGNvbnN0IHJlYWNoID0gdGhpcy5nZXRSZWFjaE9mVGhyZWVCb3R0b20ocGllY2UuYXJlYSk7XG4gICAgICAgIGNvbnN0IHJlYWNoVmFsaWRhdGlvbiA9IHRoaXMuZ2V0UmVhY2hWYWxpZGF0aW9uKHJlYWNoLCBwaWVjZS5wbGF5ZXIpO1xuICAgICAgICBjb25zdCB2YWxpZENvdW50ID0gcmVhY2hWYWxpZGF0aW9uLnJlZHVjZSgodmFsaWQsIGFyZWEpID0+IHZhbGlkICsgYXJlYSk7XG4gICAgICAgIGlmICh2YWxpZENvdW50ID09PSAzKVxuICAgICAgICAgICAgcmV0dXJuIHJlYWNoO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdldFJpZ2h0UmVhY2gocGllY2UpIHtcbiAgICAgICAgY29uc3QgcmVhY2ggPSB0aGlzLmdldFJlYWNoT2ZUaHJlZVJpZ2h0KHBpZWNlLmFyZWEpO1xuICAgICAgICBjb25zdCByZWFjaFZhbGlkYXRpb24gPSB0aGlzLmdldFJlYWNoVmFsaWRhdGlvbihyZWFjaCwgcGllY2UucGxheWVyKTtcbiAgICAgICAgY29uc3QgdmFsaWRDb3VudCA9IHJlYWNoVmFsaWRhdGlvbi5yZWR1Y2UoKHZhbGlkLCBhcmVhKSA9PiB2YWxpZCArIGFyZWEpO1xuICAgICAgICBpZiAodmFsaWRDb3VudCA9PT0gMylcbiAgICAgICAgICAgIHJldHVybiByZWFjaDtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXRUb3BBbmRCb3R0b21SZWFjaChwaWVjZSkge1xuICAgICAgICBjb25zdCByZWFjaCA9IHRoaXMuZ2V0UmVhY2hPZk1pZGRsZVRvcEFuZEJvdHRvbShwaWVjZS5hcmVhKTtcbiAgICAgICAgY29uc3QgcmVhY2hWYWxpZGF0aW9uID0gdGhpcy5nZXRSZWFjaFZhbGlkYXRpb24ocmVhY2gsIHBpZWNlLnBsYXllcik7XG4gICAgICAgIGNvbnN0IHZhbGlkQ291bnQgPSByZWFjaFZhbGlkYXRpb24ucmVkdWNlKCh2YWxpZCwgYXJlYSkgPT4gdmFsaWQgKyBhcmVhKTtcbiAgICAgICAgaWYgKHZhbGlkQ291bnQgPT09IDMpXG4gICAgICAgICAgICByZXR1cm4gcmVhY2g7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0TGVmdEFuZFJpZ2h0UmVhY2gocGllY2UpIHtcbiAgICAgICAgY29uc3QgcmVhY2ggPSB0aGlzLmdldFJlYWNoT2ZNaWRkbGVMZWZ0QW5kUmlnaHQocGllY2UuYXJlYSk7XG4gICAgICAgIGNvbnN0IHJlYWNoVmFsaWRhdGlvbiA9IHRoaXMuZ2V0UmVhY2hWYWxpZGF0aW9uKHJlYWNoLCBwaWVjZS5wbGF5ZXIpO1xuICAgICAgICBjb25zdCB2YWxpZENvdW50ID0gcmVhY2hWYWxpZGF0aW9uLnJlZHVjZSgodmFsaWQsIGFyZWEpID0+IHZhbGlkICsgYXJlYSk7XG4gICAgICAgIGlmICh2YWxpZENvdW50ID09PSAzKVxuICAgICAgICAgICAgcmV0dXJuIHJlYWNoO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG1hcmtUaHJlZUluUm93cyh0aHJlZUluUm93cywgcGxheWVyKSB7XG4gICAgICAgIGlmICh0aHJlZUluUm93cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0ZXJtaW5lSW5kaWNhdGlvbkRpbWVuc2lvbih0aHJlZUluUm93cywgcGxheWVyKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aHJlZUluUm93cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLnJvd1NlbGVjdGlvbkluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kZXRlcm1pbmVJbmRpY2F0aW9uRGltZW5zaW9ucyh0aHJlZUluUm93cywgcGxheWVyKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZGV0ZXJtaW5lSW5kaWNhdGlvbkRpbWVuc2lvbih0aHJlZUluUm93cywgcGxheWVyKSB7XG4gICAgICAgIGNvbnN0IFtwb3NpdGlvbnNdID0gdGhyZWVJblJvd3M7XG4gICAgICAgIGNvbnN0IFtmaXJzdFBvcywgc2Vjb25kUG9zLCB0aGlyZFBvc10gPSBwb3NpdGlvbnM7XG4gICAgICAgIGlmIChmaXJzdFBvc1sxXSA9PT0gc2Vjb25kUG9zWzFdKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVIb3Jpem9udGFsSW5kaWNhdGlvbihmaXJzdFBvcywgc2Vjb25kUG9zLCB0aGlyZFBvcywgcGxheWVyKTtcbiAgICAgICAgaWYgKGZpcnN0UG9zWzJdID09PSBzZWNvbmRQb3NbMl0pXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZlcnRpY2FsSW5kaWNhdGlvbihmaXJzdFBvcywgc2Vjb25kUG9zLCB0aGlyZFBvcywgcGxheWVyKTtcbiAgICAgICAgdGhpcy5tYXJrUGllY2VzQXNQYXJ0T2ZUaHJlZUluUm93KHBvc2l0aW9ucyk7XG4gICAgfVxuICAgIGRldGVybWluZUluZGljYXRpb25EaW1lbnNpb25zKHRocmVlSW5Sb3dzLCBwbGF5ZXIpIHtcbiAgICAgICAgdGhyZWVJblJvd3MuZm9yRWFjaCh0aHJlZUluUm93ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFtmaXJzdFBvcywgc2Vjb25kUG9zLCB0aGlyZFBvc10gPSB0aHJlZUluUm93O1xuICAgICAgICAgICAgaWYgKGZpcnN0UG9zWzFdID09PSBzZWNvbmRQb3NbMV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRpY2F0aW9uRWxlbWVudCA9IHRoaXMuY3JlYXRlSG9yaXpvbnRhbEluZGljYXRpb24oZmlyc3RQb3MsIHNlY29uZFBvcywgdGhpcmRQb3MsIHBsYXllcik7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSb3dTZWxlY3Rpb25FdmVudExpc3RlbmVycyhpbmRpY2F0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy50aHJlZUluUm93U2VsZWN0aW9ucy5wdXNoKHsgaW5kaWNhdGlvbkVsZW1lbnQsIHBvc2l0aW9uczogdGhyZWVJblJvdyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaXJzdFBvc1syXSA9PT0gc2Vjb25kUG9zWzJdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kaWNhdGlvbkVsZW1lbnQgPSB0aGlzLmNyZWF0ZVZlcnRpY2FsSW5kaWNhdGlvbihmaXJzdFBvcywgc2Vjb25kUG9zLCB0aGlyZFBvcywgcGxheWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJvd1NlbGVjdGlvbkV2ZW50TGlzdGVuZXJzKGluZGljYXRpb25FbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRocmVlSW5Sb3dTZWxlY3Rpb25zLnB1c2goeyBpbmRpY2F0aW9uRWxlbWVudCwgcG9zaXRpb25zOiB0aHJlZUluUm93IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWFya1BpZWNlc0FzUGFydE9mVGhyZWVJblJvdyh0aHJlZUluUm93KSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiBwbGF5ZXIuYWN0aXZlKTtcbiAgICAgICAgdGhyZWVJblJvdy5mb3JFYWNoKGFyZWEgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGllY2UgPSBhY3RpdmVQbGF5ZXIucGllY2VzLmZpbmQocGllY2UgPT4gcGllY2UuYXJlYSA9PT0gYXJlYSk7XG4gICAgICAgICAgICBwaWVjZS5wYXJ0T2ZUaHJlZUluUm93ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZFJvd1NlbGVjdGlvbkV2ZW50TGlzdGVuZXJzKGluZGljYXRpb25FbGVtZW50KSB7XG4gICAgICAgIGluZGljYXRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkb3VibGVSb3dJbmRpY2F0aW9uXCIpO1xuICAgICAgICBpbmRpY2F0aW9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb3VibGVSb3dTZWxlY3Rpb25IYW5kbGVyKTtcbiAgICAgICAgaW5kaWNhdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIHRoaXMuc2VsZWN0Um93SGFuZGxlcik7XG4gICAgICAgIGluZGljYXRpb25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuc2VsZWN0Um93SGFuZGxlckZvck1vYmlsZSk7XG4gICAgfVxuICAgIHJlbW92ZVNlbGVjdGlvbkV2ZW50TGlzdGVuZXJzKGluZGljYXRpb25FbGVtZW50KSB7XG4gICAgICAgIGluZGljYXRpb25FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRvdWJsZVJvd1NlbGVjdGlvbkhhbmRsZXIpO1xuICAgICAgICBpbmRpY2F0aW9uRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgdGhpcy5zZWxlY3RSb3dIYW5kbGVyKTtcbiAgICAgICAgaW5kaWNhdGlvbkVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5zZWxlY3RSb3dIYW5kbGVyRm9yTW9iaWxlKTtcbiAgICAgICAgaW5kaWNhdGlvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkUm93XCIsIFwiZG91YmxlUm93SW5kaWNhdGlvblwiKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZURvdWJsZVJvd1NlbGVjdGlvbihlKSB7XG4gICAgICAgIGNvbnN0IHRocmVlSW5Sb3dzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRocmVlSW5Sb3cuZG91YmxlUm93SW5kaWNhdGlvblwiKSk7XG4gICAgICAgIHRocmVlSW5Sb3dzLmZvckVhY2godGhyZWVJblJvdyA9PiB7XG4gICAgICAgICAgICB0aHJlZUluUm93LmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFJvd1wiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFJvd1wiKTtcbiAgICB9XG4gICAgc2VsZWN0ZWRUaHJlZUluUm93KGUpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlUGhhc2UgPSB0aGlzLnNldHRpbmdzLnBoYXNlcy5maW5kKChwaGFzZSkgPT4gcGhhc2UuYWN0aXZlKTtcbiAgICAgICAgY29uc3QgZG91YmxlVGhyZWVJblJvd3MgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGhyZWVJblJvdy5kb3VibGVSb3dJbmRpY2F0aW9uXCIpKTtcbiAgICAgICAgZG91YmxlVGhyZWVJblJvd3MuZm9yRWFjaCh0aHJlZUluUm93ID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhyZWVJblJvdyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcmtPbmx5U2VsZWN0ZWRQaWVjZXNBc1BhcnRPZlRocmVlSW5Sb3coZS50YXJnZXQpO1xuICAgICAgICB0aGlzLnJlbW92ZU5vdFNlbGVjdGVkUm93SW5kaWNhdGlvbkVsZW1lbnQoZG91YmxlVGhyZWVJblJvd3MsIGUudGFyZ2V0KTtcbiAgICAgICAgdGhpcy5yZXNldFBpZWNlUmVtb3ZhbEZsYWdzKGFjdGl2ZVBoYXNlKTtcbiAgICAgICAgYWN0aXZlUGhhc2UuaW5pdGlhdGVPcHBvbmVudFBpZWNlUmVtb3ZhbCgpO1xuICAgICAgICBjb25zdCB0aHJlZUluUm93cyA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiBwbGF5ZXIuYWN0aXZlKS50aHJlZUluUm93cztcbiAgICAgICAgY29uc3QgdG9CZVJlbW92ZWRPYmogPSB0aHJlZUluUm93cy5maW5kKHJvdyA9PiByb3cuZWxlbWVudCAhPT0gZS50YXJnZXQpO1xuICAgICAgICB0aHJlZUluUm93cy5zcGxpY2UodGhyZWVJblJvd3MuaW5kZXhPZih0b0JlUmVtb3ZlZE9iaiksIDEpO1xuICAgICAgICB0aGlzLnJvd1NlbGVjdGlvbkluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgLy8gLi4uXG4gICAgICAgIGFjdGl2ZVBoYXNlLmluaXRpYXRlT3Bwb25lbnRQaWVjZVJlbW92YWwoKTtcbiAgICB9XG4gICAgc2VsZWN0ZWRUaHJlZUluUm93Rm9yTW9iaWxlKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coZS50aW1lU3RhbXApO1xuICAgIH1cbiAgICBtYXJrT25seVNlbGVjdGVkUGllY2VzQXNQYXJ0T2ZUaHJlZUluUm93KHNlbGVjdGVkUm93KSB7XG4gICAgICAgIGNvbnN0IHRocmVlSW5Sb3cgPSB0aGlzLnRocmVlSW5Sb3dTZWxlY3Rpb25zLmZpbmQoKHJvdykgPT4gcm93LmluZGljYXRpb25FbGVtZW50ID09PSBzZWxlY3RlZFJvdyk7XG4gICAgICAgIHRoaXMubWFya1BpZWNlc0FzUGFydE9mVGhyZWVJblJvdyh0aHJlZUluUm93LnBvc2l0aW9ucyk7XG4gICAgfVxuICAgIHJlbW92ZU5vdFNlbGVjdGVkUm93SW5kaWNhdGlvbkVsZW1lbnQoZG91YmxlVGhyZWVJblJvd3MsIHNlbGVjdGVkUm93KSB7XG4gICAgICAgIGNvbnN0IG5vdFNlbGVjdGVkUm93ID0gZG91YmxlVGhyZWVJblJvd3MuZmluZChyb3cgPT4gcm93ICE9PSBzZWxlY3RlZFJvdyk7XG4gICAgICAgIG5vdFNlbGVjdGVkUm93LnJlbW92ZSgpO1xuICAgIH1cbiAgICByZXNldFBpZWNlUmVtb3ZhbEZsYWdzKGFjdGl2ZVBoYXNlKSB7XG4gICAgICAgIHRoaXMucm93U2VsZWN0aW9uSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVQaGFzZS5waWVjZVJlbW92YWxJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuICAgIGNyZWF0ZUhvcml6b250YWxJbmRpY2F0aW9uKGZpcnN0UG9zLCBzZWNvbmRQb3MsIHRoaXJkUG9zLCBwbGF5ZXIpIHtcbiAgICAgICAgY29uc3QgYXJlYSA9IGAke3RoaXJkUG9zfSAvICR7Zmlyc3RQb3N9IC8gJHtmaXJzdFBvc30gLyAke3RoaXJkUG9zfWA7XG4gICAgICAgIGNvbnN0IHRocmVlSW5Sb3cgPSBIZWxwZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGl2XCIsIGNsYXNzOiBgcGxheWVyJHtwbGF5ZXIubnVtYmVyU3RyaW5nVXBwZXJDYXNlfSB0aHJlZUluUm93YCwgYXJlYSxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMuZ2FtZWJvYXJkXG4gICAgICAgIH0pO1xuICAgICAgICBwbGF5ZXIudGhyZWVJblJvd3MucHVzaCh7XG4gICAgICAgICAgICBwb3NpdGlvbnM6IFtmaXJzdFBvcywgc2Vjb25kUG9zLCB0aGlyZFBvc10sXG4gICAgICAgICAgICBlbGVtZW50OiB0aHJlZUluUm93XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhyZWVJblJvdztcbiAgICB9XG4gICAgY3JlYXRlVmVydGljYWxJbmRpY2F0aW9uKGZpcnN0UG9zLCBzZWNvbmRQb3MsIHRoaXJkUG9zLCBwbGF5ZXIpIHtcbiAgICAgICAgY29uc3QgYXJlYSA9IGAke2ZpcnN0UG9zfSAvICR7Zmlyc3RQb3N9IC8gJHt0aGlyZFBvc30gLyAke3RoaXJkUG9zfWA7XG4gICAgICAgIGNvbnN0IHRocmVlSW5Sb3cgPSBIZWxwZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGl2XCIsIGNsYXNzOiBgcGxheWVyJHtwbGF5ZXIubnVtYmVyU3RyaW5nVXBwZXJDYXNlfSB0aHJlZUluUm93YCwgYXJlYSxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMuZ2FtZWJvYXJkXG4gICAgICAgIH0pO1xuICAgICAgICBwbGF5ZXIudGhyZWVJblJvd3MucHVzaCh7XG4gICAgICAgICAgICBwb3NpdGlvbnM6IFtmaXJzdFBvcywgc2Vjb25kUG9zLCB0aGlyZFBvc10sXG4gICAgICAgICAgICBlbGVtZW50OiB0aHJlZUluUm93XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhyZWVJblJvdztcbiAgICB9XG4gICAgZ2V0UmVhY2hPZlRocmVlVG9wKHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9ICtwb3NpdGlvblsxXSwgY29sdW1uID0gK3Bvc2l0aW9uWzJdO1xuICAgICAgICBjb25zdCByZWFjaCA9IFtcbiAgICAgICAgICAgIChyb3cgPCAzKSA/IG51bGwgOiBgYSR7cm93IC0gMn0ke2NvbHVtbn1gLFxuICAgICAgICAgICAgKHJvdyA8IDIpID8gbnVsbCA6IGBhJHtyb3cgLSAxfSR7Y29sdW1ufWAsXG4gICAgICAgICAgICBwb3NpdGlvblxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gcmVhY2g7XG4gICAgfVxuICAgIGdldFJlYWNoT2ZUaHJlZUJvdHRvbShwb3NpdGlvbikge1xuICAgICAgICBjb25zdCByb3cgPSArcG9zaXRpb25bMV0sIGNvbHVtbiA9ICtwb3NpdGlvblsyXTtcbiAgICAgICAgY29uc3QgcmVhY2ggPSBbXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIChyb3cgPiA1KSA/IG51bGwgOiBgYSR7cm93ICsgMX0ke2NvbHVtbn1gLFxuICAgICAgICAgICAgKHJvdyA+IDQpID8gbnVsbCA6IGBhJHtyb3cgKyAyfSR7Y29sdW1ufWBcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHJlYWNoO1xuICAgIH1cbiAgICBnZXRSZWFjaE9mVGhyZWVMZWZ0KHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9ICtwb3NpdGlvblsxXSwgY29sdW1uID0gK3Bvc2l0aW9uWzJdO1xuICAgICAgICBjb25zdCByZWFjaCA9IFtcbiAgICAgICAgICAgIChjb2x1bW4gPCAzKSA/IG51bGwgOiBgYSR7cm93fSR7Y29sdW1uIC0gMn1gLFxuICAgICAgICAgICAgKGNvbHVtbiA8IDIpID8gbnVsbCA6IGBhJHtyb3d9JHtjb2x1bW4gLSAxfWAsXG4gICAgICAgICAgICBwb3NpdGlvblxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gcmVhY2g7XG4gICAgfVxuICAgIGdldFJlYWNoT2ZUaHJlZVJpZ2h0KHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9ICtwb3NpdGlvblsxXSwgY29sdW1uID0gK3Bvc2l0aW9uWzJdO1xuICAgICAgICBjb25zdCByZWFjaCA9IFtcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgKGNvbHVtbiA+IDUpID8gbnVsbCA6IGBhJHtyb3d9JHtjb2x1bW4gKyAxfWAsXG4gICAgICAgICAgICAoY29sdW1uID4gNCkgPyBudWxsIDogYGEke3Jvd30ke2NvbHVtbiArIDJ9YFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gcmVhY2g7XG4gICAgfVxuICAgIGdldFJlYWNoT2ZNaWRkbGVUb3BBbmRCb3R0b20ocG9zaXRpb24pIHtcbiAgICAgICAgY29uc3Qgcm93ID0gK3Bvc2l0aW9uWzFdLCBjb2x1bW4gPSArcG9zaXRpb25bMl07XG4gICAgICAgIGNvbnN0IHJlYWNoID0gW1xuICAgICAgICAgICAgKHJvdyA8IDIpID8gbnVsbCA6IGBhJHtyb3cgLSAxfSR7Y29sdW1ufWAsXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIChyb3cgPiA1KSA/IG51bGwgOiBgYSR7cm93ICsgMX0ke2NvbHVtbn1gXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiByZWFjaDtcbiAgICB9XG4gICAgZ2V0UmVhY2hPZk1pZGRsZUxlZnRBbmRSaWdodChwb3NpdGlvbikge1xuICAgICAgICBjb25zdCByb3cgPSArcG9zaXRpb25bMV0sIGNvbHVtbiA9ICtwb3NpdGlvblsyXTtcbiAgICAgICAgY29uc3QgcmVhY2ggPSBbXG4gICAgICAgICAgICAoY29sdW1uIDwgMikgPyBudWxsIDogYGEke3Jvd30ke2NvbHVtbiAtIDF9YCxcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgKGNvbHVtbiA+IDUpID8gbnVsbCA6IGBhJHtyb3d9JHtjb2x1bW4gKyAxfWBcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHJlYWNoO1xuICAgIH1cbiAgICBzZXRQbGF5ZXJzKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiBwbGF5ZXIuYWN0aXZlKTtcbiAgICAgICAgdGhpcy5pbmFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiAhcGxheWVyLmFjdGl2ZSk7XG4gICAgfVxuICAgIGNvbWJpbmVQbGF5ZXJQb3NpdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllclBvc2l0aW9ucyA9IHRoaXMuYWN0aXZlUGxheWVyLnBpZWNlUG9zaXRpb25zT25HYW1lYm9hcmQ7XG4gICAgICAgIGNvbnN0IGluYWN0aXZlUGxheWVyUG9zaXRpb25zID0gdGhpcy5pbmFjdGl2ZVBsYXllci5waWVjZVBvc2l0aW9uc09uR2FtZWJvYXJkO1xuICAgICAgICBjb25zdCBwbGF5ZXJQb3NpdGlvbnMgPSBhY3RpdmVQbGF5ZXJQb3NpdGlvbnMuY29uY2F0KGluYWN0aXZlUGxheWVyUG9zaXRpb25zKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJQb3NpdGlvbnMgPSBwbGF5ZXJQb3NpdGlvbnM7XG4gICAgfVxuICAgIHNlYXJjaEZvclRocmVlSW5Sb3dQcm9oaWJpdGVkUG9zaXRpb25zKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZWFyY2hIb3Jpem9udGFsbHlUaHJlZXMocGxheWVyKTtcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoVmVydGljYWxseVRocmVlcyhwbGF5ZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VhcmNoSG9yaXpvbnRhbGx5VGhyZWVzKHBsYXllcikge1xuICAgICAgICBwbGF5ZXIucGllY2VQb3NpdGlvbnNPbkdhbWVib2FyZC5mb3JFYWNoKHBvc2l0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWNoID0gdGhpcy5nZXRSZWFjaE9mRml2ZUhvcml6b250YWxseShwb3NpdGlvbik7XG4gICAgICAgICAgICBjb25zdCByZWFjaFZhbGlkYXRpb24gPSB0aGlzLmdldFJlYWNoVmFsaWRhdGlvbihyZWFjaCwgcGxheWVyKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkQ291bnQgPSByZWFjaFZhbGlkYXRpb24ucmVkdWNlKCh2YWxpZCwgYXJlYSkgPT4gdmFsaWQgKyBhcmVhKTtcbiAgICAgICAgICAgIGlmICh2YWxpZENvdW50ID4gMSlcbiAgICAgICAgICAgICAgICB0aGlzLmRpdmlkZVJlYWNoSW50b1RocmVlcyhyZWFjaCwgcGxheWVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlYXJjaFZlcnRpY2FsbHlUaHJlZXMocGxheWVyKSB7XG4gICAgICAgIHBsYXllci5waWVjZVBvc2l0aW9uc09uR2FtZWJvYXJkLmZvckVhY2gocG9zaXRpb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVhY2ggPSB0aGlzLmdldFJlYWNoT2ZGaXZlVmVydGljYWxseShwb3NpdGlvbik7XG4gICAgICAgICAgICBjb25zdCByZWFjaFZhbGlkYXRpb24gPSB0aGlzLmdldFJlYWNoVmFsaWRhdGlvbihyZWFjaCwgcGxheWVyKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkQ291bnQgPSByZWFjaFZhbGlkYXRpb24ucmVkdWNlKCh2YWxpZCwgYXJlYSkgPT4gdmFsaWQgKyBhcmVhKTtcbiAgICAgICAgICAgIGlmICh2YWxpZENvdW50ID4gMSlcbiAgICAgICAgICAgICAgICB0aGlzLmRpdmlkZVJlYWNoSW50b1RocmVlcyhyZWFjaCwgcGxheWVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFJlYWNoT2ZGaXZlVmVydGljYWxseShwb3NpdGlvbikge1xuICAgICAgICBjb25zdCByb3cgPSArcG9zaXRpb25bMV0sIGNvbHVtbiA9ICtwb3NpdGlvblsyXTtcbiAgICAgICAgY29uc3QgcmVhY2ggPSBbXG4gICAgICAgICAgICAocm93IDwgMykgPyBudWxsIDogYGEke3JvdyAtIDJ9JHtjb2x1bW59YCxcbiAgICAgICAgICAgIChyb3cgPCAyKSA/IG51bGwgOiBgYSR7cm93IC0gMX0ke2NvbHVtbn1gLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICAocm93ID4gNSkgPyBudWxsIDogYGEke3JvdyArIDF9JHtjb2x1bW59YCxcbiAgICAgICAgICAgIChyb3cgPiA0KSA/IG51bGwgOiBgYSR7cm93ICsgMn0ke2NvbHVtbn1gXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiByZWFjaDtcbiAgICB9XG4gICAgZ2V0UmVhY2hPZkZpdmVIb3Jpem9udGFsbHkocG9zaXRpb24pIHtcbiAgICAgICAgY29uc3Qgcm93ID0gK3Bvc2l0aW9uWzFdLCBjb2x1bW4gPSArcG9zaXRpb25bMl07XG4gICAgICAgIGNvbnN0IHJlYWNoID0gW1xuICAgICAgICAgICAgKGNvbHVtbiA8IDMpID8gbnVsbCA6IGBhJHtyb3d9JHtjb2x1bW4gLSAyfWAsXG4gICAgICAgICAgICAoY29sdW1uIDwgMikgPyBudWxsIDogYGEke3Jvd30ke2NvbHVtbiAtIDF9YCxcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgKGNvbHVtbiA+IDUpID8gbnVsbCA6IGBhJHtyb3d9JHtjb2x1bW4gKyAxfWAsXG4gICAgICAgICAgICAoY29sdW1uID4gNCkgPyBudWxsIDogYGEke3Jvd30ke2NvbHVtbiArIDJ9YFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gcmVhY2g7XG4gICAgfVxuICAgIGdldFJlYWNoVmFsaWRhdGlvbihyZWFjaCwgcGxheWVyKSB7XG4gICAgICAgIGNvbnN0IHJlYWNoVmFsaWRhdGlvbiA9IHJlYWNoLm1hcChwb3NpdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAoIXBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgaWYgKHBsYXllci5waWVjZVBvc2l0aW9uc09uR2FtZWJvYXJkLmluY2x1ZGVzKHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIucGllY2VzLmZpbmQocGllY2UgPT4gcGllY2UuYXJlYSA9PT0gcG9zaXRpb24pLnBhcnRPZlRocmVlSW5Sb3cpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXBsYXllci5waWVjZVBvc2l0aW9uc09uR2FtZWJvYXJkLmluY2x1ZGVzKHBvc2l0aW9uKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlYWNoVmFsaWRhdGlvbjtcbiAgICB9XG4gICAgZGl2aWRlUmVhY2hJbnRvVGhyZWVzKHJlYWNoLCBwbGF5ZXIpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRocmVlUmVhY2hQb3NpdGlvbnMgPSByZWFjaC5zbGljZShpLCBpICsgMyk7XG4gICAgICAgICAgICBjb25zdCB0aHJlZVBvc2l0aW9ucyA9IHRocmVlUmVhY2hQb3NpdGlvbnMubWFwKHBvc2l0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXBvc2l0aW9uKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHBsYXllci5waWVjZVBvc2l0aW9uc09uR2FtZWJvYXJkLmluY2x1ZGVzKHBvc2l0aW9uKSA/IDEgOiAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdmFsaWRDb3VudCA9IHRocmVlUG9zaXRpb25zLnJlZHVjZSgodmFsaWQsIGFyZWEpID0+IHZhbGlkICsgYXJlYSk7XG4gICAgICAgICAgICBpZiAodmFsaWRDb3VudCA9PT0gMilcbiAgICAgICAgICAgICAgICB0aGlzLmRldGVybWluZVByb2hpYml0ZWRQb3NpdGlvbnModGhyZWVSZWFjaFBvc2l0aW9ucywgcGxheWVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXRlcm1pbmVQcm9oaWJpdGVkUG9zaXRpb25zKHJlYWNoUG9zaXRpb25zLCBwbGF5ZXIpIHtcbiAgICAgICAgcmVhY2hQb3NpdGlvbnMuZm9yRWFjaChwb3NpdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGxheWVyUG9zaXRpb25zLmluY2x1ZGVzKHBvc2l0aW9uKSAmJiAhcGxheWVyLnByb2hpYml0ZWRQb3NpdGlvbnMuaW5jbHVkZXMocG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wcm9oaWJpdGVkUG9zaXRpb25zLnB1c2gocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlc2V0UHJvaGliaXRlZFBvc2l0aW9ucygpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVQbGF5ZXIucHJvaGliaXRlZFBvc2l0aW9ucyA9IHRoaXMucGxheWVyUG9zaXRpb25zO1xuICAgICAgICB0aGlzLmluYWN0aXZlUGxheWVyLnByb2hpYml0ZWRQb3NpdGlvbnMgPSB0aGlzLnBsYXllclBvc2l0aW9ucztcbiAgICB9XG59XG5jbGFzcyBmb3VySW5Sb3cge1xuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5hY3RpdmVQaWVjZSA9IHt9O1xuICAgICAgICB0aGlzLmFjdGl2ZVBsYXllciA9IHt9O1xuICAgICAgICB0aGlzLnNlbGVjdGVkUG9zaXRpb24gPSBcIlwiO1xuICAgIH1cbiAgICBleGlzdHMoYXJlYSwgYWN0aXZhdGVkUGllY2UpIHtcbiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0aWVzKGFjdGl2YXRlZFBpZWNlLCBhcmVhKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoRm9yRm91ckluUm93KCk7XG4gICAgfVxuICAgIHNldFByb3BlcnRpZXMoYWN0aXZhdGVkUGllY2UsIGFyZWEpIHtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmF0ZWRQaWVjZShhY3RpdmF0ZWRQaWVjZSk7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQb3NpdGlvbihhcmVhKTtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVQbGF5ZXIoKTtcbiAgICB9XG4gICAgc2VhcmNoRm9yRm91ckluUm93KCkge1xuICAgICAgICBjb25zdCBob3Jpem9udGFsRm91ckluUm93ID0gdGhpcy5zZWFyY2hIb3Jpem9udGFsbHlGb3VycygpO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbEZvdXJJblJvdyA9IHRoaXMuc2VhcmNoVmVydGljYWxseUZvdXJzKCk7XG4gICAgICAgIHJldHVybiAhKGhvcml6b250YWxGb3VySW5Sb3cgfHwgdmVydGljYWxGb3VySW5Sb3cpO1xuICAgIH1cbiAgICBzZXRBY3RpdmF0ZWRQaWVjZShhY3RpdmF0ZWRQaWVjZSkge1xuICAgICAgICB0aGlzLmFjdGl2ZVBpZWNlID0gYWN0aXZhdGVkUGllY2U7XG4gICAgfVxuICAgIHNldEFjdGl2ZVBsYXllcigpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVQbGF5ZXIgPSB0aGlzLnNldHRpbmdzLnBsYXllcnMuZmluZChwbGF5ZXIgPT4gcGxheWVyLmFjdGl2ZSk7XG4gICAgfVxuICAgIHNldFNlbGVjdGVkUG9zaXRpb24oYXJlYSkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkUG9zaXRpb24gPSBhcmVhO1xuICAgIH1cbiAgICBzZWFyY2hIb3Jpem9udGFsbHlGb3VycygpIHtcbiAgICAgICAgY29uc3QgcmVhY2ggPSB0aGlzLmdldFJlYWNoT2ZTZXZlbkhvcml6b250YWxseSgpO1xuICAgICAgICBjb25zdCByZWFjaFZhbGlkYXRpb24gPSB0aGlzLmdldFJlYWNoVmFsaWRhdGlvbihyZWFjaCk7XG4gICAgICAgIGNvbnN0IHZhbGlkQ291bnQgPSByZWFjaFZhbGlkYXRpb24ucmVkdWNlKCh2YWxpZCwgYXJlYSkgPT4gdmFsaWQgKyBhcmVhKTtcbiAgICAgICAgaWYgKHZhbGlkQ291bnQgPiAzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGl2aWRlUmVhY2hJbnRvRm91cnMocmVhY2hWYWxpZGF0aW9uKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzZWFyY2hWZXJ0aWNhbGx5Rm91cnMoKSB7XG4gICAgICAgIGNvbnN0IHJlYWNoID0gdGhpcy5nZXRSZWFjaE9mU2V2ZW5WZXJ0aWNhbGx5KCk7XG4gICAgICAgIGNvbnN0IHJlYWNoVmFsaWRhdGlvbiA9IHRoaXMuZ2V0UmVhY2hWYWxpZGF0aW9uKHJlYWNoKTtcbiAgICAgICAgY29uc3QgdmFsaWRDb3VudCA9IHJlYWNoVmFsaWRhdGlvbi5yZWR1Y2UoKHZhbGlkLCBhcmVhKSA9PiB2YWxpZCArIGFyZWEpO1xuICAgICAgICBpZiAodmFsaWRDb3VudCA+IDMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaXZpZGVSZWFjaEludG9Gb3VycyhyZWFjaFZhbGlkYXRpb24pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdldFJlYWNoT2ZTZXZlbkhvcml6b250YWxseSgpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gK3RoaXMuc2VsZWN0ZWRQb3NpdGlvblsxXSwgY29sdW1uID0gK3RoaXMuc2VsZWN0ZWRQb3NpdGlvblsyXTtcbiAgICAgICAgY29uc3QgcmVhY2ggPSBbXG4gICAgICAgICAgICAoY29sdW1uIDwgNCkgPyBudWxsIDogYGEke3Jvd30ke2NvbHVtbiAtIDN9YCxcbiAgICAgICAgICAgIChjb2x1bW4gPCAzKSA/IG51bGwgOiBgYSR7cm93fSR7Y29sdW1uIC0gMn1gLFxuICAgICAgICAgICAgKGNvbHVtbiA8IDIpID8gbnVsbCA6IGBhJHtyb3d9JHtjb2x1bW4gLSAxfWAsXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUG9zaXRpb24sXG4gICAgICAgICAgICAoY29sdW1uID4gNSkgPyBudWxsIDogYGEke3Jvd30ke2NvbHVtbiArIDF9YCxcbiAgICAgICAgICAgIChjb2x1bW4gPiA0KSA/IG51bGwgOiBgYSR7cm93fSR7Y29sdW1uICsgMn1gLFxuICAgICAgICAgICAgKGNvbHVtbiA+IDMpID8gbnVsbCA6IGBhJHtyb3d9JHtjb2x1bW4gKyAzfWBcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHJlYWNoO1xuICAgIH1cbiAgICBnZXRSZWFjaE9mU2V2ZW5WZXJ0aWNhbGx5KCkge1xuICAgICAgICBjb25zdCByb3cgPSArdGhpcy5zZWxlY3RlZFBvc2l0aW9uWzFdLCBjb2x1bW4gPSArdGhpcy5zZWxlY3RlZFBvc2l0aW9uWzJdO1xuICAgICAgICBjb25zdCByZWFjaCA9IFtcbiAgICAgICAgICAgIChyb3cgPCA0KSA/IG51bGwgOiBgYSR7cm93IC0gM30ke2NvbHVtbn1gLFxuICAgICAgICAgICAgKHJvdyA8IDMpID8gbnVsbCA6IGBhJHtyb3cgLSAyfSR7Y29sdW1ufWAsXG4gICAgICAgICAgICAocm93IDwgMikgPyBudWxsIDogYGEke3JvdyAtIDF9JHtjb2x1bW59YCxcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQb3NpdGlvbixcbiAgICAgICAgICAgIChyb3cgPiA1KSA/IG51bGwgOiBgYSR7cm93ICsgMX0ke2NvbHVtbn1gLFxuICAgICAgICAgICAgKHJvdyA+IDQpID8gbnVsbCA6IGBhJHtyb3cgKyAyfSR7Y29sdW1ufWAsXG4gICAgICAgICAgICAocm93ID4gMykgPyBudWxsIDogYGEke3JvdyArIDN9JHtjb2x1bW59YFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gcmVhY2g7XG4gICAgfVxuICAgIGdldFJlYWNoVmFsaWRhdGlvbihyZWFjaCkge1xuICAgICAgICBjb25zdCByZWFjaFZhbGlkYXRpb24gPSByZWFjaC5tYXAocG9zaXRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKCFwb3NpdGlvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdGhpcy5hY3RpdmVQaWVjZS5hcmVhKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSB0aGlzLnNlbGVjdGVkUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmVQbGF5ZXIucGllY2VQb3NpdGlvbnNPbkdhbWVib2FyZC5pbmNsdWRlcyhwb3NpdGlvbikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZWFjaFZhbGlkYXRpb247XG4gICAgfVxuICAgIGRpdmlkZVJlYWNoSW50b0ZvdXJzKHJlYWNoVmFsaWRhdGlvbikge1xuICAgICAgICBsZXQgZm91ckluUm93ID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmb3VyUmVhY2hWYWxpZGF0aW9uID0gcmVhY2hWYWxpZGF0aW9uLnNsaWNlKGksIGkgKyA0KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkQ291bnQgPSBmb3VyUmVhY2hWYWxpZGF0aW9uLnJlZHVjZSgodmFsaWQsIGFyZWEpID0+IHZhbGlkICsgYXJlYSk7XG4gICAgICAgICAgICBpZiAodmFsaWRDb3VudCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGZvdXJJblJvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdXJJblJvdztcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/js/App/Game/Game.ts\n");

/***/ }),

/***/ "./app/js/App/Game/PhaseOne/PhaseOne.ts":
/*!**********************************************!*\
  !*** ./app/js/App/Game/PhaseOne/PhaseOne.ts ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PhaseOne; });\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Game */ \"./app/js/App/Game/Game.ts\");\n/* harmony import */ var _Helper_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Helper/Helper */ \"./app/js/App/Helper/Helper.ts\");\n\n\nclass PhaseOne extends _Game__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(settings) {\n        super(settings);\n        this.settings = settings;\n        this.active = true;\n        this.phase = \"one\";\n        this.movePieceHandler = this.movePiece.bind(this);\n        this.animationStartsHandler = this.movementStarts.bind(this);\n        this.animationEndsHandler = this.movementEnds.bind(this);\n    }\n    activatePiece(activatedPiece) {\n        this.storeActivatedPiece(activatedPiece);\n        if (this.activatedPiece.active) {\n            this.createGameboardPositions();\n        }\n        else {\n            this.removeGameboardPositions();\n        }\n    }\n    createGameboardPositions() {\n        const temporaryPositionAmount = Array.from(document.querySelectorAll(\".gameboard > .temporaryPosition\")).length;\n        if (!temporaryPositionAmount) {\n            const temporaryPositions = document.createDocumentFragment();\n            const playerProhibitedPositions = this.settings.players.find(player => player.active).prohibitedPositions;\n            for (let row = 1; row <= 5; row++) {\n                for (let column = 1; column <= 6; column++) {\n                    const area = `a${row}${column}`;\n                    if (playerProhibitedPositions.includes(area))\n                        continue;\n                    this.createAllowedGameboardPositions(area, temporaryPositions);\n                }\n                this.settings.selectors.gameboard.appendChild(temporaryPositions);\n                super.firstPhaseMoveHandler = this.movePieceHandler;\n            }\n        }\n    }\n    createAllowedGameboardPositions(area, temporaryPositions) {\n        const position = _Helper_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            type: \"div\", class: \"temporaryPosition\", area,\n            parent: temporaryPositions\n        });\n        position.addEventListener(\"click\", this.movePieceHandler);\n    }\n    movePiece(e) {\n        if (!this.settings.animationInProgress) {\n            this.storeSelectedPosition(e.target);\n            this.animateMovement();\n        }\n    }\n    movePieceToGameboard() {\n        this.settings.selectors.gameboard.append(this.activatedPiece.element);\n        let area = window.getComputedStyle(this.selectedPosition).gridArea.split(\"/\")[0].trim();\n        if (!area)\n            area = this.selectedPosition.style[\"gridArea\"].split(\"/\")[0].trim();\n        this.activatedPiece.element.style.gridArea = area;\n        this.configureActivatedPiece(area);\n        this.configurePiecesData(area);\n    }\n    configureActivatedPiece(area) {\n        this.activatedPiece.ontable = true;\n        this.activatedPiece.active = false;\n        this.activatedPiece.area = area;\n    }\n    configurePiecesData(area) {\n        this.piecesOnTable++;\n        const activePlayer = this.settings.players.find(player => player.active);\n        const inactivePlayer = this.settings.players.find(player => !player.active);\n        activePlayer.piecePositionsOnGameboard.push(area);\n        activePlayer.prohibitedPositions.push(area);\n        inactivePlayer.prohibitedPositions.push(area);\n    }\n    resetMovedPiece() {\n        const activePlayer = this.settings.players.find(player => player.active);\n        activePlayer.removeAllHighlighting();\n        this.removeActivePlayerClasses(activePlayer);\n        this.removeActivePlayerEventListeners(activePlayer);\n    }\n    removeActivePlayerClasses(activePlayer) {\n        this.activatedPiece.element.classList.add(`player${activePlayer.numberStringUpperCase}`);\n        this.activatedPiece.element.classList.remove(\"animateMovement\");\n    }\n    removeActivePlayerEventListeners(activePlayer) {\n        this.activatedPiece.element.removeEventListener(\"click\", activePlayer.initializePieceHandler);\n        this.activatedPiece.element.removeEventListener(\"animationstart\", this.animationStartsHandler);\n        this.activatedPiece.element.removeEventListener(\"animationend\", this.animationEndsHandler);\n    }\n    animateMovement() {\n        this.calculateTopPosition();\n        this.calculateLeftPosition();\n        this.setAnimationTime(); // Development setting\n        this.attachAnimation();\n    }\n    attachAnimation() {\n        this.activatedPiece.element.classList.add(\"animateMovement\");\n        this.activatedPiece.element.addEventListener(\"animationstart\", this.animationStartsHandler);\n        this.activatedPiece.element.addEventListener(\"animationend\", this.animationEndsHandler);\n    }\n    movementStarts() {\n        this.animationStarts();\n    }\n    movementEnds() {\n        this.movePieceToGameboard();\n        this.resetMovedPiece();\n        this.removeGameboardPositions();\n        this.switchTurn();\n        this.animationEnds();\n    }\n    init() {\n        this.activatePlayer();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvQXBwL0dhbWUvUGhhc2VPbmUvUGhhc2VPbmUudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvanMvQXBwL0dhbWUvUGhhc2VPbmUvUGhhc2VPbmUudHM/ZjMyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2FtZSBmcm9tIFwiLi4vR2FtZVwiO1xuaW1wb3J0IEhlbHBlciBmcm9tIFwiLi4vLi4vSGVscGVyL0hlbHBlclwiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGhhc2VPbmUgZXh0ZW5kcyBHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuICAgICAgICBzdXBlcihzZXR0aW5ncyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnBoYXNlID0gXCJvbmVcIjtcbiAgICAgICAgdGhpcy5tb3ZlUGllY2VIYW5kbGVyID0gdGhpcy5tb3ZlUGllY2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25TdGFydHNIYW5kbGVyID0gdGhpcy5tb3ZlbWVudFN0YXJ0cy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkVuZHNIYW5kbGVyID0gdGhpcy5tb3ZlbWVudEVuZHMuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgYWN0aXZhdGVQaWVjZShhY3RpdmF0ZWRQaWVjZSkge1xuICAgICAgICB0aGlzLnN0b3JlQWN0aXZhdGVkUGllY2UoYWN0aXZhdGVkUGllY2UpO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmF0ZWRQaWVjZS5hY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlR2FtZWJvYXJkUG9zaXRpb25zKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUdhbWVib2FyZFBvc2l0aW9ucygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUdhbWVib2FyZFBvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3QgdGVtcG9yYXJ5UG9zaXRpb25BbW91bnQgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FtZWJvYXJkID4gLnRlbXBvcmFyeVBvc2l0aW9uXCIpKS5sZW5ndGg7XG4gICAgICAgIGlmICghdGVtcG9yYXJ5UG9zaXRpb25BbW91bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBvcmFyeVBvc2l0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHBsYXllclByb2hpYml0ZWRQb3NpdGlvbnMgPSB0aGlzLnNldHRpbmdzLnBsYXllcnMuZmluZChwbGF5ZXIgPT4gcGxheWVyLmFjdGl2ZSkucHJvaGliaXRlZFBvc2l0aW9ucztcbiAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDE7IHJvdyA8PSA1OyByb3crKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbHVtbiA9IDE7IGNvbHVtbiA8PSA2OyBjb2x1bW4rKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmVhID0gYGEke3Jvd30ke2NvbHVtbn1gO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyUHJvaGliaXRlZFBvc2l0aW9ucy5pbmNsdWRlcyhhcmVhKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUFsbG93ZWRHYW1lYm9hcmRQb3NpdGlvbnMoYXJlYSwgdGVtcG9yYXJ5UG9zaXRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMuZ2FtZWJvYXJkLmFwcGVuZENoaWxkKHRlbXBvcmFyeVBvc2l0aW9ucyk7XG4gICAgICAgICAgICAgICAgc3VwZXIuZmlyc3RQaGFzZU1vdmVIYW5kbGVyID0gdGhpcy5tb3ZlUGllY2VIYW5kbGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUFsbG93ZWRHYW1lYm9hcmRQb3NpdGlvbnMoYXJlYSwgdGVtcG9yYXJ5UG9zaXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gSGVscGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICB0eXBlOiBcImRpdlwiLCBjbGFzczogXCJ0ZW1wb3JhcnlQb3NpdGlvblwiLCBhcmVhLFxuICAgICAgICAgICAgcGFyZW50OiB0ZW1wb3JhcnlQb3NpdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICAgIHBvc2l0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm1vdmVQaWVjZUhhbmRsZXIpO1xuICAgIH1cbiAgICBtb3ZlUGllY2UoZSkge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuYW5pbWF0aW9uSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgdGhpcy5zdG9yZVNlbGVjdGVkUG9zaXRpb24oZS50YXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlTW92ZW1lbnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlUGllY2VUb0dhbWVib2FyZCgpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMuZ2FtZWJvYXJkLmFwcGVuZCh0aGlzLmFjdGl2YXRlZFBpZWNlLmVsZW1lbnQpO1xuICAgICAgICBsZXQgYXJlYSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuc2VsZWN0ZWRQb3NpdGlvbikuZ3JpZEFyZWEuc3BsaXQoXCIvXCIpWzBdLnRyaW0oKTtcbiAgICAgICAgaWYgKCFhcmVhKVxuICAgICAgICAgICAgYXJlYSA9IHRoaXMuc2VsZWN0ZWRQb3NpdGlvbi5zdHlsZVtcImdyaWRBcmVhXCJdLnNwbGl0KFwiL1wiKVswXS50cmltKCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUGllY2UuZWxlbWVudC5zdHlsZS5ncmlkQXJlYSA9IGFyZWE7XG4gICAgICAgIHRoaXMuY29uZmlndXJlQWN0aXZhdGVkUGllY2UoYXJlYSk7XG4gICAgICAgIHRoaXMuY29uZmlndXJlUGllY2VzRGF0YShhcmVhKTtcbiAgICB9XG4gICAgY29uZmlndXJlQWN0aXZhdGVkUGllY2UoYXJlYSkge1xuICAgICAgICB0aGlzLmFjdGl2YXRlZFBpZWNlLm9udGFibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZFBpZWNlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZFBpZWNlLmFyZWEgPSBhcmVhO1xuICAgIH1cbiAgICBjb25maWd1cmVQaWVjZXNEYXRhKGFyZWEpIHtcbiAgICAgICAgdGhpcy5waWVjZXNPblRhYmxlKys7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiBwbGF5ZXIuYWN0aXZlKTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVQbGF5ZXIgPSB0aGlzLnNldHRpbmdzLnBsYXllcnMuZmluZChwbGF5ZXIgPT4gIXBsYXllci5hY3RpdmUpO1xuICAgICAgICBhY3RpdmVQbGF5ZXIucGllY2VQb3NpdGlvbnNPbkdhbWVib2FyZC5wdXNoKGFyZWEpO1xuICAgICAgICBhY3RpdmVQbGF5ZXIucHJvaGliaXRlZFBvc2l0aW9ucy5wdXNoKGFyZWEpO1xuICAgICAgICBpbmFjdGl2ZVBsYXllci5wcm9oaWJpdGVkUG9zaXRpb25zLnB1c2goYXJlYSk7XG4gICAgfVxuICAgIHJlc2V0TW92ZWRQaWVjZSgpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlUGxheWVyID0gdGhpcy5zZXR0aW5ncy5wbGF5ZXJzLmZpbmQocGxheWVyID0+IHBsYXllci5hY3RpdmUpO1xuICAgICAgICBhY3RpdmVQbGF5ZXIucmVtb3ZlQWxsSGlnaGxpZ2h0aW5nKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlUGxheWVyQ2xhc3NlcyhhY3RpdmVQbGF5ZXIpO1xuICAgICAgICB0aGlzLnJlbW92ZUFjdGl2ZVBsYXllckV2ZW50TGlzdGVuZXJzKGFjdGl2ZVBsYXllcik7XG4gICAgfVxuICAgIHJlbW92ZUFjdGl2ZVBsYXllckNsYXNzZXMoYWN0aXZlUGxheWVyKSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUGllY2UuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGBwbGF5ZXIke2FjdGl2ZVBsYXllci5udW1iZXJTdHJpbmdVcHBlckNhc2V9YCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUGllY2UuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYW5pbWF0ZU1vdmVtZW50XCIpO1xuICAgIH1cbiAgICByZW1vdmVBY3RpdmVQbGF5ZXJFdmVudExpc3RlbmVycyhhY3RpdmVQbGF5ZXIpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRQaWVjZS5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhY3RpdmVQbGF5ZXIuaW5pdGlhbGl6ZVBpZWNlSGFuZGxlcik7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUGllY2UuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uc3RhcnRcIiwgdGhpcy5hbmltYXRpb25TdGFydHNIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRQaWVjZS5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgdGhpcy5hbmltYXRpb25FbmRzSGFuZGxlcik7XG4gICAgfVxuICAgIGFuaW1hdGVNb3ZlbWVudCgpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVUb3BQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZUxlZnRQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLnNldEFuaW1hdGlvblRpbWUoKTsgLy8gRGV2ZWxvcG1lbnQgc2V0dGluZ1xuICAgICAgICB0aGlzLmF0dGFjaEFuaW1hdGlvbigpO1xuICAgIH1cbiAgICBhdHRhY2hBbmltYXRpb24oKSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUGllY2UuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYW5pbWF0ZU1vdmVtZW50XCIpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZFBpZWNlLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbnN0YXJ0XCIsIHRoaXMuYW5pbWF0aW9uU3RhcnRzSGFuZGxlcik7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUGllY2UuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIHRoaXMuYW5pbWF0aW9uRW5kc0hhbmRsZXIpO1xuICAgIH1cbiAgICBtb3ZlbWVudFN0YXJ0cygpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25TdGFydHMoKTtcbiAgICB9XG4gICAgbW92ZW1lbnRFbmRzKCkge1xuICAgICAgICB0aGlzLm1vdmVQaWVjZVRvR2FtZWJvYXJkKCk7XG4gICAgICAgIHRoaXMucmVzZXRNb3ZlZFBpZWNlKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlR2FtZWJvYXJkUG9zaXRpb25zKCk7XG4gICAgICAgIHRoaXMuc3dpdGNoVHVybigpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkVuZHMoKTtcbiAgICB9XG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVBsYXllcigpO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/js/App/Game/PhaseOne/PhaseOne.ts\n");

/***/ }),

/***/ "./app/js/App/Game/PhaseTwo/PhaseTwo.ts":
/*!**********************************************!*\
  !*** ./app/js/App/Game/PhaseTwo/PhaseTwo.ts ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PhaseTwo; });\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Game */ \"./app/js/App/Game/Game.ts\");\n/* harmony import */ var _Helper_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Helper/Helper */ \"./app/js/App/Helper/Helper.ts\");\n\n\nclass PhaseTwo extends _Game__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(settings) {\n        super(settings);\n        this.settings = settings;\n        this.active = false;\n        this.phase = \"two\";\n        this.movePieceHandler = this.movePiece.bind(this);\n        this.animationStartsHandler = this.movementStarts.bind(this);\n        this.animationEndsHandler = this.movementEnds.bind(this);\n        this.removePieceHandler = this.initializePieceRemoval.bind(this);\n    }\n    init() {\n        console.log(\"phase two started...!\");\n        this.initializeMovingLogic();\n        this.piecesOnTable = (2 * this.settings.piecesForEachPlayer) + 1;\n    }\n    activatePiece(activatedPiece) {\n        this.storeActivatedPiece(activatedPiece);\n        if (this.activatedPiece.active) {\n            this.createGameboardPositions();\n        }\n        else {\n            this.removeGameboardPositions();\n        }\n    }\n    initializeMovingLogic() {\n        this.settings.players.forEach(player => {\n            player.pieces.forEach(piece => {\n                piece.ontable = false;\n                piece.element.addEventListener(\"click\", player.initializePieceHandler);\n            });\n        });\n    }\n    createGameboardPositions() {\n        this.removeGameboardPositions();\n        const temporaryPositions = document.createDocumentFragment();\n        const playerProhibitedPositions = this.settings.players.find(player => player.active).prohibitedPositions;\n        const activePhase = this.settings.phases.find((phase) => phase.active);\n        const areas = this.getSurroundingPositions();\n        areas.forEach(area => {\n            if (area) {\n                if (!playerProhibitedPositions.includes(area) && activePhase.fourInRow.exists(area, this.activatedPiece)) {\n                    this.createAllowedGameboardPositions(area, temporaryPositions);\n                }\n            }\n        });\n        this.settings.selectors.gameboard.appendChild(temporaryPositions);\n        super.secondPhaseMoveHandler = this.movePieceHandler;\n    }\n    createAllowedGameboardPositions(area, temporaryPositions) {\n        const position = _Helper_Helper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            type: \"div\", class: \"temporaryPosition\", area,\n            parent: temporaryPositions\n        });\n        position.addEventListener(\"click\", this.movePieceHandler);\n    }\n    getSurroundingPositions() {\n        const row = +this.activatedPiece.area[1], column = +this.activatedPiece.area[2];\n        const topArea = (row > 1) ? `a${row - 1}${column}` : null;\n        const bottomArea = (row < 5) ? `a${row + 1}${column}` : null;\n        const leftArea = (column > 1) ? `a${row}${column - 1}` : null;\n        const rightArea = (column < 6) ? `a${row}${column + 1}` : null;\n        return [topArea, leftArea, bottomArea, rightArea];\n    }\n    movePiece(e) {\n        if (!this.settings.animationInProgress) {\n            this.storeSelectedPosition(e.target);\n            this.animateMovement();\n        }\n    }\n    animateMovement() {\n        this.calculateTopPosition();\n        this.calculateLeftPosition();\n        this.attachAnimation();\n    }\n    attachAnimation() {\n        this.activatedPiece.element.classList.add(\"animateMovement\");\n        this.activatedPiece.element.addEventListener(\"animationstart\", this.animationStartsHandler);\n        this.activatedPiece.element.addEventListener(\"animationend\", this.animationEndsHandler);\n    }\n    movementStarts() {\n        this.animationStarts();\n    }\n    movementEnds() {\n        this.movePieceWithinGameboard();\n        this.resetMovedPiece();\n        this.removeGameboardPositions();\n        this.animationEnds();\n        if (!this.pieceRemovalInProgress)\n            this.switchTurn();\n    }\n    movePieceWithinGameboard() {\n        const selectedPosition = this.selectedPosition;\n        const computedStyle = window.getComputedStyle(selectedPosition).gridArea;\n        let area;\n        if (computedStyle) {\n            area = computedStyle.split(\"/\")[0].trim();\n        }\n        else {\n            area = selectedPosition.style[\"gridArea\"].split(\"/\")[0].trim();\n        }\n        const piecePositionBeforeMoving = this.activatedPiece.area;\n        this.activatedPiece.element.style.gridArea = area;\n        this.configurePiecesData(area);\n        this.configureActivatedPiece(area);\n        this.checkIfThreeInRowNeedsToBeCreated();\n        this.checkIfThreeInRowNeedsToBeRemoved(piecePositionBeforeMoving, area);\n    }\n    configurePiecesData(area) {\n        const activePlayer = this.settings.players.find(player => player.active);\n        const gameboardIndex = activePlayer.piecePositionsOnGameboard.indexOf(this.activatedPiece.area);\n        activePlayer.piecePositionsOnGameboard.splice(gameboardIndex, 1);\n        activePlayer.piecePositionsOnGameboard.push(area);\n    }\n    configureActivatedPiece(area) {\n        this.activatedPiece.active = false;\n        this.activatedPiece.area = area;\n    }\n    checkIfThreeInRowNeedsToBeCreated() {\n        const activePhase = this.settings.phases.find((phase) => phase.active);\n        const threeInRowExists = activePhase.threeInRow.checkIfExists(this.activatedPiece);\n        const rowSelectionInProgress = this.threeInRow.rowSelectionInProgress;\n        console.log(threeInRowExists, rowSelectionInProgress);\n        if (threeInRowExists && !rowSelectionInProgress) {\n            this.initiateOpponentPieceRemoval();\n        }\n        if (threeInRowExists && rowSelectionInProgress) {\n            this.pieceRemovalInProgress = true;\n            this.initiateOpponentPieceRemoval();\n        }\n        if (!threeInRowExists)\n            this.pieceRemovalInProgress = false;\n    }\n    checkIfThreeInRowNeedsToBeRemoved(oldPosition, newPosition) {\n        const threeInRows = this.activatedPiece.player.threeInRows;\n        if (this.activatedPiece.player.threeInRows) {\n            threeInRows.forEach((threeInRow, index) => {\n                if (threeInRow.positions.includes(oldPosition)) {\n                    threeInRow.element.remove();\n                    threeInRows.splice(index, 1);\n                    this.unmarkPiecesThatAreNotPartOfThreeInRow(threeInRow.positions, oldPosition, newPosition);\n                }\n            });\n        }\n    }\n    unmarkPiecesThatAreNotPartOfThreeInRow(threeInRow, oldPos, newPos) {\n        const activePlayer = this.settings.players.find(player => player.active);\n        threeInRow.splice(threeInRow.indexOf(oldPos), 1, newPos);\n        threeInRow.forEach(position => {\n            const piece = activePlayer.pieces.find(piece => piece.area === position);\n            piece.partOfThreeInRow = false;\n        });\n    }\n    resetMovedPiece() {\n        const activePlayer = this.settings.players.find(player => player.active);\n        activePlayer.removeAllHighlighting();\n        this.removeActivePlayerClasses(activePlayer);\n        this.removeActivePlayerEventListeners();\n    }\n    removeActivePlayerClasses(activePlayer) {\n        this.activatedPiece.element.classList.add(`player${activePlayer.numberStringUpperCase}`);\n        this.activatedPiece.element.classList.remove(\"animateMovement\");\n    }\n    removeActivePlayerEventListeners() {\n        this.activatedPiece.element.removeEventListener(\"animationstart\", this.animationStartsHandler);\n        this.activatedPiece.element.removeEventListener(\"animationend\", this.animationEndsHandler);\n    }\n    initiateOpponentPieceRemoval() {\n        this.pieceRemovalInProgress = true;\n        const inactivePlayer = this.settings.players.find(player => !player.active);\n        inactivePlayer.pieces.forEach(piece => {\n            if (!piece.partOfThreeInRow) {\n                piece.element.addEventListener(\"click\", this.removePieceHandler);\n                piece.element.classList.add(\"toBeRemoved\");\n            }\n        });\n    }\n    initializePieceRemoval(e) {\n        if (!this.threeInRow.rowSelectionInProgress) {\n            const inactivePlayer = this.settings.players.find(player => !player.active);\n            const piece = inactivePlayer.pieces.find(piece => piece.element === e.target);\n            this.removePiece(piece);\n            this.switchTurn();\n        }\n    }\n    removePiece(piece) {\n        this.removeOpponentPieceEventListeners(piece);\n        this.removeOpponentPiece(piece);\n        this.removePlayerPieceData(piece.area);\n        this.pieceRemovalInProgress = false;\n    }\n    removeOpponentPieceEventListeners(piece) {\n        piece.element.removeEventListener(\"click\", piece.player.initializePieceHandler);\n        piece.player.pieces.forEach(piece => {\n            piece.element.removeEventListener(\"click\", this.removePieceHandler);\n            piece.element.classList.remove(\"toBeRemoved\");\n        });\n    }\n    removeOpponentPiece(piece) {\n        const area = piece.area;\n        const opponentPieceAreas = piece.player.piecePositionsOnGameboard;\n        const opponentProhibitedPositions = piece.player.prohibitedPositions;\n        const opponentPieces = piece.player.pieces;\n        opponentPieceAreas.splice(opponentPieceAreas.indexOf(area), 1);\n        opponentProhibitedPositions.splice(opponentProhibitedPositions.indexOf(area), 1);\n        piece.element.remove();\n        opponentPieces.splice(opponentPieces.indexOf(piece), 1);\n    }\n    removePlayerPieceData(area) {\n        const activePlayer = this.settings.players.find(player => player.active);\n        const activePlayerProhibitedPositions = activePlayer.prohibitedPositions;\n        activePlayerProhibitedPositions.splice(activePlayerProhibitedPositions.indexOf(area), 1);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvQXBwL0dhbWUvUGhhc2VUd28vUGhhc2VUd28udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvanMvQXBwL0dhbWUvUGhhc2VUd28vUGhhc2VUd28udHM/MGMxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2FtZSBmcm9tIFwiLi4vR2FtZVwiO1xuaW1wb3J0IEhlbHBlciBmcm9tIFwiLi4vLi4vSGVscGVyL0hlbHBlclwiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGhhc2VUd28gZXh0ZW5kcyBHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuICAgICAgICBzdXBlcihzZXR0aW5ncyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5waGFzZSA9IFwidHdvXCI7XG4gICAgICAgIHRoaXMubW92ZVBpZWNlSGFuZGxlciA9IHRoaXMubW92ZVBpZWNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhcnRzSGFuZGxlciA9IHRoaXMubW92ZW1lbnRTdGFydHMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25FbmRzSGFuZGxlciA9IHRoaXMubW92ZW1lbnRFbmRzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVtb3ZlUGllY2VIYW5kbGVyID0gdGhpcy5pbml0aWFsaXplUGllY2VSZW1vdmFsLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicGhhc2UgdHdvIHN0YXJ0ZWQuLi4hXCIpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb3ZpbmdMb2dpYygpO1xuICAgICAgICB0aGlzLnBpZWNlc09uVGFibGUgPSAoMiAqIHRoaXMuc2V0dGluZ3MucGllY2VzRm9yRWFjaFBsYXllcikgKyAxO1xuICAgIH1cbiAgICBhY3RpdmF0ZVBpZWNlKGFjdGl2YXRlZFBpZWNlKSB7XG4gICAgICAgIHRoaXMuc3RvcmVBY3RpdmF0ZWRQaWVjZShhY3RpdmF0ZWRQaWVjZSk7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2YXRlZFBpZWNlLmFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVHYW1lYm9hcmRQb3NpdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlR2FtZWJvYXJkUG9zaXRpb25zKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdGlhbGl6ZU1vdmluZ0xvZ2ljKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xuICAgICAgICAgICAgcGxheWVyLnBpZWNlcy5mb3JFYWNoKHBpZWNlID0+IHtcbiAgICAgICAgICAgICAgICBwaWVjZS5vbnRhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcGllY2UuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcGxheWVyLmluaXRpYWxpemVQaWVjZUhhbmRsZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjcmVhdGVHYW1lYm9hcmRQb3NpdGlvbnMoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlR2FtZWJvYXJkUG9zaXRpb25zKCk7XG4gICAgICAgIGNvbnN0IHRlbXBvcmFyeVBvc2l0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgY29uc3QgcGxheWVyUHJvaGliaXRlZFBvc2l0aW9ucyA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiBwbGF5ZXIuYWN0aXZlKS5wcm9oaWJpdGVkUG9zaXRpb25zO1xuICAgICAgICBjb25zdCBhY3RpdmVQaGFzZSA9IHRoaXMuc2V0dGluZ3MucGhhc2VzLmZpbmQoKHBoYXNlKSA9PiBwaGFzZS5hY3RpdmUpO1xuICAgICAgICBjb25zdCBhcmVhcyA9IHRoaXMuZ2V0U3Vycm91bmRpbmdQb3NpdGlvbnMoKTtcbiAgICAgICAgYXJlYXMuZm9yRWFjaChhcmVhID0+IHtcbiAgICAgICAgICAgIGlmIChhcmVhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXJQcm9oaWJpdGVkUG9zaXRpb25zLmluY2x1ZGVzKGFyZWEpICYmIGFjdGl2ZVBoYXNlLmZvdXJJblJvdy5leGlzdHMoYXJlYSwgdGhpcy5hY3RpdmF0ZWRQaWVjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVBbGxvd2VkR2FtZWJvYXJkUG9zaXRpb25zKGFyZWEsIHRlbXBvcmFyeVBvc2l0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMuZ2FtZWJvYXJkLmFwcGVuZENoaWxkKHRlbXBvcmFyeVBvc2l0aW9ucyk7XG4gICAgICAgIHN1cGVyLnNlY29uZFBoYXNlTW92ZUhhbmRsZXIgPSB0aGlzLm1vdmVQaWVjZUhhbmRsZXI7XG4gICAgfVxuICAgIGNyZWF0ZUFsbG93ZWRHYW1lYm9hcmRQb3NpdGlvbnMoYXJlYSwgdGVtcG9yYXJ5UG9zaXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gSGVscGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICB0eXBlOiBcImRpdlwiLCBjbGFzczogXCJ0ZW1wb3JhcnlQb3NpdGlvblwiLCBhcmVhLFxuICAgICAgICAgICAgcGFyZW50OiB0ZW1wb3JhcnlQb3NpdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICAgIHBvc2l0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm1vdmVQaWVjZUhhbmRsZXIpO1xuICAgIH1cbiAgICBnZXRTdXJyb3VuZGluZ1Bvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gK3RoaXMuYWN0aXZhdGVkUGllY2UuYXJlYVsxXSwgY29sdW1uID0gK3RoaXMuYWN0aXZhdGVkUGllY2UuYXJlYVsyXTtcbiAgICAgICAgY29uc3QgdG9wQXJlYSA9IChyb3cgPiAxKSA/IGBhJHtyb3cgLSAxfSR7Y29sdW1ufWAgOiBudWxsO1xuICAgICAgICBjb25zdCBib3R0b21BcmVhID0gKHJvdyA8IDUpID8gYGEke3JvdyArIDF9JHtjb2x1bW59YCA6IG51bGw7XG4gICAgICAgIGNvbnN0IGxlZnRBcmVhID0gKGNvbHVtbiA+IDEpID8gYGEke3Jvd30ke2NvbHVtbiAtIDF9YCA6IG51bGw7XG4gICAgICAgIGNvbnN0IHJpZ2h0QXJlYSA9IChjb2x1bW4gPCA2KSA/IGBhJHtyb3d9JHtjb2x1bW4gKyAxfWAgOiBudWxsO1xuICAgICAgICByZXR1cm4gW3RvcEFyZWEsIGxlZnRBcmVhLCBib3R0b21BcmVhLCByaWdodEFyZWFdO1xuICAgIH1cbiAgICBtb3ZlUGllY2UoZSkge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuYW5pbWF0aW9uSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgdGhpcy5zdG9yZVNlbGVjdGVkUG9zaXRpb24oZS50YXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRlTW92ZW1lbnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhbmltYXRlTW92ZW1lbnQoKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVG9wUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVMZWZ0UG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5hdHRhY2hBbmltYXRpb24oKTtcbiAgICB9XG4gICAgYXR0YWNoQW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLmFjdGl2YXRlZFBpZWNlLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFuaW1hdGVNb3ZlbWVudFwiKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRQaWVjZS5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25zdGFydFwiLCB0aGlzLmFuaW1hdGlvblN0YXJ0c0hhbmRsZXIpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZFBpZWNlLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCB0aGlzLmFuaW1hdGlvbkVuZHNIYW5kbGVyKTtcbiAgICB9XG4gICAgbW92ZW1lbnRTdGFydHMoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhcnRzKCk7XG4gICAgfVxuICAgIG1vdmVtZW50RW5kcygpIHtcbiAgICAgICAgdGhpcy5tb3ZlUGllY2VXaXRoaW5HYW1lYm9hcmQoKTtcbiAgICAgICAgdGhpcy5yZXNldE1vdmVkUGllY2UoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVHYW1lYm9hcmRQb3NpdGlvbnMoKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25FbmRzKCk7XG4gICAgICAgIGlmICghdGhpcy5waWVjZVJlbW92YWxJblByb2dyZXNzKVxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hUdXJuKCk7XG4gICAgfVxuICAgIG1vdmVQaWVjZVdpdGhpbkdhbWVib2FyZCgpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQb3NpdGlvbiA9IHRoaXMuc2VsZWN0ZWRQb3NpdGlvbjtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHNlbGVjdGVkUG9zaXRpb24pLmdyaWRBcmVhO1xuICAgICAgICBsZXQgYXJlYTtcbiAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgICAgIGFyZWEgPSBjb21wdXRlZFN0eWxlLnNwbGl0KFwiL1wiKVswXS50cmltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcmVhID0gc2VsZWN0ZWRQb3NpdGlvbi5zdHlsZVtcImdyaWRBcmVhXCJdLnNwbGl0KFwiL1wiKVswXS50cmltKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGllY2VQb3NpdGlvbkJlZm9yZU1vdmluZyA9IHRoaXMuYWN0aXZhdGVkUGllY2UuYXJlYTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRQaWVjZS5lbGVtZW50LnN0eWxlLmdyaWRBcmVhID0gYXJlYTtcbiAgICAgICAgdGhpcy5jb25maWd1cmVQaWVjZXNEYXRhKGFyZWEpO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZUFjdGl2YXRlZFBpZWNlKGFyZWEpO1xuICAgICAgICB0aGlzLmNoZWNrSWZUaHJlZUluUm93TmVlZHNUb0JlQ3JlYXRlZCgpO1xuICAgICAgICB0aGlzLmNoZWNrSWZUaHJlZUluUm93TmVlZHNUb0JlUmVtb3ZlZChwaWVjZVBvc2l0aW9uQmVmb3JlTW92aW5nLCBhcmVhKTtcbiAgICB9XG4gICAgY29uZmlndXJlUGllY2VzRGF0YShhcmVhKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiBwbGF5ZXIuYWN0aXZlKTtcbiAgICAgICAgY29uc3QgZ2FtZWJvYXJkSW5kZXggPSBhY3RpdmVQbGF5ZXIucGllY2VQb3NpdGlvbnNPbkdhbWVib2FyZC5pbmRleE9mKHRoaXMuYWN0aXZhdGVkUGllY2UuYXJlYSk7XG4gICAgICAgIGFjdGl2ZVBsYXllci5waWVjZVBvc2l0aW9uc09uR2FtZWJvYXJkLnNwbGljZShnYW1lYm9hcmRJbmRleCwgMSk7XG4gICAgICAgIGFjdGl2ZVBsYXllci5waWVjZVBvc2l0aW9uc09uR2FtZWJvYXJkLnB1c2goYXJlYSk7XG4gICAgfVxuICAgIGNvbmZpZ3VyZUFjdGl2YXRlZFBpZWNlKGFyZWEpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRQaWVjZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRQaWVjZS5hcmVhID0gYXJlYTtcbiAgICB9XG4gICAgY2hlY2tJZlRocmVlSW5Sb3dOZWVkc1RvQmVDcmVhdGVkKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVQaGFzZSA9IHRoaXMuc2V0dGluZ3MucGhhc2VzLmZpbmQoKHBoYXNlKSA9PiBwaGFzZS5hY3RpdmUpO1xuICAgICAgICBjb25zdCB0aHJlZUluUm93RXhpc3RzID0gYWN0aXZlUGhhc2UudGhyZWVJblJvdy5jaGVja0lmRXhpc3RzKHRoaXMuYWN0aXZhdGVkUGllY2UpO1xuICAgICAgICBjb25zdCByb3dTZWxlY3Rpb25JblByb2dyZXNzID0gdGhpcy50aHJlZUluUm93LnJvd1NlbGVjdGlvbkluUHJvZ3Jlc3M7XG4gICAgICAgIGNvbnNvbGUubG9nKHRocmVlSW5Sb3dFeGlzdHMsIHJvd1NlbGVjdGlvbkluUHJvZ3Jlc3MpO1xuICAgICAgICBpZiAodGhyZWVJblJvd0V4aXN0cyAmJiAhcm93U2VsZWN0aW9uSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgdGhpcy5pbml0aWF0ZU9wcG9uZW50UGllY2VSZW1vdmFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRocmVlSW5Sb3dFeGlzdHMgJiYgcm93U2VsZWN0aW9uSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgdGhpcy5waWVjZVJlbW92YWxJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGVPcHBvbmVudFBpZWNlUmVtb3ZhbCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhyZWVJblJvd0V4aXN0cylcbiAgICAgICAgICAgIHRoaXMucGllY2VSZW1vdmFsSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cbiAgICBjaGVja0lmVGhyZWVJblJvd05lZWRzVG9CZVJlbW92ZWQob2xkUG9zaXRpb24sIG5ld1Bvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHRocmVlSW5Sb3dzID0gdGhpcy5hY3RpdmF0ZWRQaWVjZS5wbGF5ZXIudGhyZWVJblJvd3M7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2YXRlZFBpZWNlLnBsYXllci50aHJlZUluUm93cykge1xuICAgICAgICAgICAgdGhyZWVJblJvd3MuZm9yRWFjaCgodGhyZWVJblJvdywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhyZWVJblJvdy5wb3NpdGlvbnMuaW5jbHVkZXMob2xkUG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocmVlSW5Sb3cuZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyZWVJblJvd3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bm1hcmtQaWVjZXNUaGF0QXJlTm90UGFydE9mVGhyZWVJblJvdyh0aHJlZUluUm93LnBvc2l0aW9ucywgb2xkUG9zaXRpb24sIG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bm1hcmtQaWVjZXNUaGF0QXJlTm90UGFydE9mVGhyZWVJblJvdyh0aHJlZUluUm93LCBvbGRQb3MsIG5ld1Bvcykge1xuICAgICAgICBjb25zdCBhY3RpdmVQbGF5ZXIgPSB0aGlzLnNldHRpbmdzLnBsYXllcnMuZmluZChwbGF5ZXIgPT4gcGxheWVyLmFjdGl2ZSk7XG4gICAgICAgIHRocmVlSW5Sb3cuc3BsaWNlKHRocmVlSW5Sb3cuaW5kZXhPZihvbGRQb3MpLCAxLCBuZXdQb3MpO1xuICAgICAgICB0aHJlZUluUm93LmZvckVhY2gocG9zaXRpb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgcGllY2UgPSBhY3RpdmVQbGF5ZXIucGllY2VzLmZpbmQocGllY2UgPT4gcGllY2UuYXJlYSA9PT0gcG9zaXRpb24pO1xuICAgICAgICAgICAgcGllY2UucGFydE9mVGhyZWVJblJvdyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVzZXRNb3ZlZFBpZWNlKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVQbGF5ZXIgPSB0aGlzLnNldHRpbmdzLnBsYXllcnMuZmluZChwbGF5ZXIgPT4gcGxheWVyLmFjdGl2ZSk7XG4gICAgICAgIGFjdGl2ZVBsYXllci5yZW1vdmVBbGxIaWdobGlnaHRpbmcoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVBY3RpdmVQbGF5ZXJDbGFzc2VzKGFjdGl2ZVBsYXllcik7XG4gICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlUGxheWVyRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgcmVtb3ZlQWN0aXZlUGxheWVyQ2xhc3NlcyhhY3RpdmVQbGF5ZXIpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRQaWVjZS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoYHBsYXllciR7YWN0aXZlUGxheWVyLm51bWJlclN0cmluZ1VwcGVyQ2FzZX1gKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRQaWVjZS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhbmltYXRlTW92ZW1lbnRcIik7XG4gICAgfVxuICAgIHJlbW92ZUFjdGl2ZVBsYXllckV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmFjdGl2YXRlZFBpZWNlLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbnN0YXJ0XCIsIHRoaXMuYW5pbWF0aW9uU3RhcnRzSGFuZGxlcik7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUGllY2UuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIHRoaXMuYW5pbWF0aW9uRW5kc0hhbmRsZXIpO1xuICAgIH1cbiAgICBpbml0aWF0ZU9wcG9uZW50UGllY2VSZW1vdmFsKCkge1xuICAgICAgICB0aGlzLnBpZWNlUmVtb3ZhbEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICBjb25zdCBpbmFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiAhcGxheWVyLmFjdGl2ZSk7XG4gICAgICAgIGluYWN0aXZlUGxheWVyLnBpZWNlcy5mb3JFYWNoKHBpZWNlID0+IHtcbiAgICAgICAgICAgIGlmICghcGllY2UucGFydE9mVGhyZWVJblJvdykge1xuICAgICAgICAgICAgICAgIHBpZWNlLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMucmVtb3ZlUGllY2VIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBwaWVjZS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0b0JlUmVtb3ZlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGluaXRpYWxpemVQaWVjZVJlbW92YWwoZSkge1xuICAgICAgICBpZiAoIXRoaXMudGhyZWVJblJvdy5yb3dTZWxlY3Rpb25JblByb2dyZXNzKSB7XG4gICAgICAgICAgICBjb25zdCBpbmFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiAhcGxheWVyLmFjdGl2ZSk7XG4gICAgICAgICAgICBjb25zdCBwaWVjZSA9IGluYWN0aXZlUGxheWVyLnBpZWNlcy5maW5kKHBpZWNlID0+IHBpZWNlLmVsZW1lbnQgPT09IGUudGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlUGllY2UocGllY2UpO1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2hUdXJuKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlUGllY2UocGllY2UpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVPcHBvbmVudFBpZWNlRXZlbnRMaXN0ZW5lcnMocGllY2UpO1xuICAgICAgICB0aGlzLnJlbW92ZU9wcG9uZW50UGllY2UocGllY2UpO1xuICAgICAgICB0aGlzLnJlbW92ZVBsYXllclBpZWNlRGF0YShwaWVjZS5hcmVhKTtcbiAgICAgICAgdGhpcy5waWVjZVJlbW92YWxJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuICAgIHJlbW92ZU9wcG9uZW50UGllY2VFdmVudExpc3RlbmVycyhwaWVjZSkge1xuICAgICAgICBwaWVjZS5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwaWVjZS5wbGF5ZXIuaW5pdGlhbGl6ZVBpZWNlSGFuZGxlcik7XG4gICAgICAgIHBpZWNlLnBsYXllci5waWVjZXMuZm9yRWFjaChwaWVjZSA9PiB7XG4gICAgICAgICAgICBwaWVjZS5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnJlbW92ZVBpZWNlSGFuZGxlcik7XG4gICAgICAgICAgICBwaWVjZS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJ0b0JlUmVtb3ZlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZU9wcG9uZW50UGllY2UocGllY2UpIHtcbiAgICAgICAgY29uc3QgYXJlYSA9IHBpZWNlLmFyZWE7XG4gICAgICAgIGNvbnN0IG9wcG9uZW50UGllY2VBcmVhcyA9IHBpZWNlLnBsYXllci5waWVjZVBvc2l0aW9uc09uR2FtZWJvYXJkO1xuICAgICAgICBjb25zdCBvcHBvbmVudFByb2hpYml0ZWRQb3NpdGlvbnMgPSBwaWVjZS5wbGF5ZXIucHJvaGliaXRlZFBvc2l0aW9ucztcbiAgICAgICAgY29uc3Qgb3Bwb25lbnRQaWVjZXMgPSBwaWVjZS5wbGF5ZXIucGllY2VzO1xuICAgICAgICBvcHBvbmVudFBpZWNlQXJlYXMuc3BsaWNlKG9wcG9uZW50UGllY2VBcmVhcy5pbmRleE9mKGFyZWEpLCAxKTtcbiAgICAgICAgb3Bwb25lbnRQcm9oaWJpdGVkUG9zaXRpb25zLnNwbGljZShvcHBvbmVudFByb2hpYml0ZWRQb3NpdGlvbnMuaW5kZXhPZihhcmVhKSwgMSk7XG4gICAgICAgIHBpZWNlLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIG9wcG9uZW50UGllY2VzLnNwbGljZShvcHBvbmVudFBpZWNlcy5pbmRleE9mKHBpZWNlKSwgMSk7XG4gICAgfVxuICAgIHJlbW92ZVBsYXllclBpZWNlRGF0YShhcmVhKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllciA9IHRoaXMuc2V0dGluZ3MucGxheWVycy5maW5kKHBsYXllciA9PiBwbGF5ZXIuYWN0aXZlKTtcbiAgICAgICAgY29uc3QgYWN0aXZlUGxheWVyUHJvaGliaXRlZFBvc2l0aW9ucyA9IGFjdGl2ZVBsYXllci5wcm9oaWJpdGVkUG9zaXRpb25zO1xuICAgICAgICBhY3RpdmVQbGF5ZXJQcm9oaWJpdGVkUG9zaXRpb25zLnNwbGljZShhY3RpdmVQbGF5ZXJQcm9oaWJpdGVkUG9zaXRpb25zLmluZGV4T2YoYXJlYSksIDEpO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/js/App/Game/PhaseTwo/PhaseTwo.ts\n");

/***/ }),

/***/ "./app/js/App/Helper/Helper.ts":
/*!*************************************!*\
  !*** ./app/js/App/Helper/Helper.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Helper; });\nclass Helper {\n    static create(element) {\n        const newElement = document.createElement(element.type);\n        if (element.id)\n            newElement.id = element.id;\n        if (element.class)\n            newElement.className = element.class;\n        if (element.text)\n            newElement.textContent = element.text;\n        if (element.area)\n            newElement.style.gridArea = element.area;\n        element.parent.appendChild(newElement);\n        return newElement;\n    }\n    static upperCaseFirstLetter(string) {\n        if (string.length === 0)\n            return \"\";\n        const firstLetter = string.charAt(0).toUpperCase();\n        if (string.length === 1)\n            return firstLetter;\n        if (string.length > 1)\n            return firstLetter + string.slice(1);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvQXBwL0hlbHBlci9IZWxwZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvanMvQXBwL0hlbHBlci9IZWxwZXIudHM/MDkzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBIZWxwZXIge1xuICAgIHN0YXRpYyBjcmVhdGUoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBuZXdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50LnR5cGUpO1xuICAgICAgICBpZiAoZWxlbWVudC5pZClcbiAgICAgICAgICAgIG5ld0VsZW1lbnQuaWQgPSBlbGVtZW50LmlkO1xuICAgICAgICBpZiAoZWxlbWVudC5jbGFzcylcbiAgICAgICAgICAgIG5ld0VsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzcztcbiAgICAgICAgaWYgKGVsZW1lbnQudGV4dClcbiAgICAgICAgICAgIG5ld0VsZW1lbnQudGV4dENvbnRlbnQgPSBlbGVtZW50LnRleHQ7XG4gICAgICAgIGlmIChlbGVtZW50LmFyZWEpXG4gICAgICAgICAgICBuZXdFbGVtZW50LnN0eWxlLmdyaWRBcmVhID0gZWxlbWVudC5hcmVhO1xuICAgICAgICBlbGVtZW50LnBhcmVudC5hcHBlbmRDaGlsZChuZXdFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gICAgfVxuICAgIHN0YXRpYyB1cHBlckNhc2VGaXJzdExldHRlcihzdHJpbmcpIHtcbiAgICAgICAgaWYgKHN0cmluZy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgY29uc3QgZmlyc3RMZXR0ZXIgPSBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChzdHJpbmcubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgcmV0dXJuIGZpcnN0TGV0dGVyO1xuICAgICAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICByZXR1cm4gZmlyc3RMZXR0ZXIgKyBzdHJpbmcuc2xpY2UoMSk7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/js/App/Helper/Helper.ts\n");

/***/ }),

/***/ "./app/js/App/Menu/Menu.ts":
/*!*********************************!*\
  !*** ./app/js/App/Menu/Menu.ts ***!
  \*********************************/
/*! exports provided: default, MenuButtons */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Menu; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MenuButtons\", function() { return MenuButtons; });\n/* harmony import */ var _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helper/Helper */ \"./app/js/App/Helper/Helper.ts\");\n\nclass Menu {\n    constructor() {\n        this._settings = {};\n    }\n    initializeMenuButtons() {\n        const openBtn = new OpenMenu(this.settings);\n        const closeBtn = new CloseMenu(this.settings);\n        this.settings.menuBtns.push(openBtn, closeBtn);\n    }\n    initializeMenuCreation() {\n        const activeBtn = this.settings.menuBtns.find((btn) => btn.active);\n        activeBtn.init();\n    }\n    init(settings) {\n        this.settings = settings;\n        this.initializeMenuButtons();\n        this.initializeMenuCreation();\n    }\n    static get instance() {\n        if (!Menu._instance) {\n            Menu._instance = new Menu();\n        }\n        return Menu._instance;\n    }\n    get settings() {\n        return this._settings;\n    }\n    set settings(value) {\n        this._settings = value;\n    }\n}\nclass MenuButtons {\n    constructor(settings) {\n        this.settings = settings;\n    }\n    createMenuButton(btn) {\n        const menuBtn = _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            type: \"div\",\n            class: `${btn.type}MenuButton`,\n            parent: this.settings.selectors.gameContainer\n        });\n        const icon = _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            type: \"i\",\n            class: btn.iconType,\n            parent: menuBtn\n        });\n        return icon;\n    }\n    toggleBtn(button) {\n        const btn = this.switchBtns(button);\n        btn.init();\n    }\n    switchBtns(button) {\n        const activeBtn = button;\n        const inactiveBtn = this.settings.menuBtns.find(btn => btn !== button);\n        activeBtn.active = false;\n        inactiveBtn.active = true;\n        return inactiveBtn;\n    }\n}\nclass OpenMenu extends MenuButtons {\n    constructor(settings) {\n        super(settings);\n        this.active = true;\n        this.type = \"open\";\n        this.iconType = \"fas fa-bars\";\n        this.openMenuHandler = this.openMenu.bind(this);\n    }\n    openMenu(e) {\n        e.target.removeEventListener(\"click\", this.openMenuHandler);\n        e.target.parentElement.remove();\n        this.createMenu();\n        this.toggleBtn(this);\n    }\n    createMenu() {\n        const menu = _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            type: \"div\",\n            class: \"menu\",\n            parent: this.settings.selectors.gameContainer\n        });\n        this.settings.players.forEach(player => {\n            const number = _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].upperCaseFirstLetter(player.numberString);\n            _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n                type: \"div\", class: `player${number}Title`, text: player.name,\n                parent: menu\n            });\n        });\n        const menuList = _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            type: \"ul\", class: \"gameMenuList\",\n            parent: menu\n        });\n        this.settings.menuOptions.forEach((option, index) => {\n            _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n                type: \"li\", class: option,\n                text: this.settings.menuOptionsEst[index],\n                parent: menuList\n            });\n        });\n    }\n    init() {\n        const icon = this.createMenuButton(this);\n        icon.addEventListener(\"click\", this.openMenuHandler);\n    }\n}\nclass CloseMenu extends MenuButtons {\n    constructor(settings) {\n        super(settings);\n        this.active = false;\n        this.type = \"close\";\n        this.iconType = \"fas fa-times\";\n        this.closeMenuHandler = this.closeMenu.bind(this);\n    }\n    closeMenu(e) {\n        e.target.removeEventListener(\"click\", this.closeMenuHandler);\n        e.target.parentElement.remove();\n        document.querySelector(\".menu\").remove();\n        this.toggleBtn(this);\n    }\n    init() {\n        const icon = this.createMenuButton(this);\n        icon.addEventListener(\"click\", this.closeMenuHandler);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvQXBwL01lbnUvTWVudS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2FwcC9qcy9BcHAvTWVudS9NZW51LnRzPzBiMjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhlbHBlciBmcm9tIFwiLi4vSGVscGVyL0hlbHBlclwiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVudSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzID0ge307XG4gICAgfVxuICAgIGluaXRpYWxpemVNZW51QnV0dG9ucygpIHtcbiAgICAgICAgY29uc3Qgb3BlbkJ0biA9IG5ldyBPcGVuTWVudSh0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgY29uc3QgY2xvc2VCdG4gPSBuZXcgQ2xvc2VNZW51KHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLm1lbnVCdG5zLnB1c2gob3BlbkJ0biwgY2xvc2VCdG4pO1xuICAgIH1cbiAgICBpbml0aWFsaXplTWVudUNyZWF0aW9uKCkge1xuICAgICAgICBjb25zdCBhY3RpdmVCdG4gPSB0aGlzLnNldHRpbmdzLm1lbnVCdG5zLmZpbmQoKGJ0bikgPT4gYnRuLmFjdGl2ZSk7XG4gICAgICAgIGFjdGl2ZUJ0bi5pbml0KCk7XG4gICAgfVxuICAgIGluaXQoc2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNZW51QnV0dG9ucygpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNZW51Q3JlYXRpb24oKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCFNZW51Ll9pbnN0YW5jZSkge1xuICAgICAgICAgICAgTWVudS5faW5zdGFuY2UgPSBuZXcgTWVudSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNZW51Ll9pbnN0YW5jZTtcbiAgICB9XG4gICAgZ2V0IHNldHRpbmdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3M7XG4gICAgfVxuICAgIHNldCBzZXR0aW5ncyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNZW51QnV0dG9ucyB7XG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIH1cbiAgICBjcmVhdGVNZW51QnV0dG9uKGJ0bikge1xuICAgICAgICBjb25zdCBtZW51QnRuID0gSGVscGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICB0eXBlOiBcImRpdlwiLFxuICAgICAgICAgICAgY2xhc3M6IGAke2J0bi50eXBlfU1lbnVCdXR0b25gLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLnNldHRpbmdzLnNlbGVjdG9ycy5nYW1lQ29udGFpbmVyXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpY29uID0gSGVscGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICB0eXBlOiBcImlcIixcbiAgICAgICAgICAgIGNsYXNzOiBidG4uaWNvblR5cGUsXG4gICAgICAgICAgICBwYXJlbnQ6IG1lbnVCdG5cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpY29uO1xuICAgIH1cbiAgICB0b2dnbGVCdG4oYnV0dG9uKSB7XG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuc3dpdGNoQnRucyhidXR0b24pO1xuICAgICAgICBidG4uaW5pdCgpO1xuICAgIH1cbiAgICBzd2l0Y2hCdG5zKGJ1dHRvbikge1xuICAgICAgICBjb25zdCBhY3RpdmVCdG4gPSBidXR0b247XG4gICAgICAgIGNvbnN0IGluYWN0aXZlQnRuID0gdGhpcy5zZXR0aW5ncy5tZW51QnRucy5maW5kKGJ0biA9PiBidG4gIT09IGJ1dHRvbik7XG4gICAgICAgIGFjdGl2ZUJ0bi5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaW5hY3RpdmVCdG4uYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGluYWN0aXZlQnRuO1xuICAgIH1cbn1cbmNsYXNzIE9wZW5NZW51IGV4dGVuZHMgTWVudUJ1dHRvbnMge1xuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XG4gICAgICAgIHN1cGVyKHNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnR5cGUgPSBcIm9wZW5cIjtcbiAgICAgICAgdGhpcy5pY29uVHlwZSA9IFwiZmFzIGZhLWJhcnNcIjtcbiAgICAgICAgdGhpcy5vcGVuTWVudUhhbmRsZXIgPSB0aGlzLm9wZW5NZW51LmJpbmQodGhpcyk7XG4gICAgfVxuICAgIG9wZW5NZW51KGUpIHtcbiAgICAgICAgZS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMub3Blbk1lbnVIYW5kbGVyKTtcbiAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51KCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnRuKHRoaXMpO1xuICAgIH1cbiAgICBjcmVhdGVNZW51KCkge1xuICAgICAgICBjb25zdCBtZW51ID0gSGVscGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICB0eXBlOiBcImRpdlwiLFxuICAgICAgICAgICAgY2xhc3M6IFwibWVudVwiLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLnNldHRpbmdzLnNlbGVjdG9ycy5nYW1lQ29udGFpbmVyXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xuICAgICAgICAgICAgY29uc3QgbnVtYmVyID0gSGVscGVyLnVwcGVyQ2FzZUZpcnN0TGV0dGVyKHBsYXllci5udW1iZXJTdHJpbmcpO1xuICAgICAgICAgICAgSGVscGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJkaXZcIiwgY2xhc3M6IGBwbGF5ZXIke251bWJlcn1UaXRsZWAsIHRleHQ6IHBsYXllci5uYW1lLFxuICAgICAgICAgICAgICAgIHBhcmVudDogbWVudVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtZW51TGlzdCA9IEhlbHBlci5jcmVhdGUoe1xuICAgICAgICAgICAgdHlwZTogXCJ1bFwiLCBjbGFzczogXCJnYW1lTWVudUxpc3RcIixcbiAgICAgICAgICAgIHBhcmVudDogbWVudVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5tZW51T3B0aW9ucy5mb3JFYWNoKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBIZWxwZXIuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImxpXCIsIGNsYXNzOiBvcHRpb24sXG4gICAgICAgICAgICAgICAgdGV4dDogdGhpcy5zZXR0aW5ncy5tZW51T3B0aW9uc0VzdFtpbmRleF0sXG4gICAgICAgICAgICAgICAgcGFyZW50OiBtZW51TGlzdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICBjb25zdCBpY29uID0gdGhpcy5jcmVhdGVNZW51QnV0dG9uKHRoaXMpO1xuICAgICAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLm9wZW5NZW51SGFuZGxlcik7XG4gICAgfVxufVxuY2xhc3MgQ2xvc2VNZW51IGV4dGVuZHMgTWVudUJ1dHRvbnMge1xuICAgIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XG4gICAgICAgIHN1cGVyKHNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50eXBlID0gXCJjbG9zZVwiO1xuICAgICAgICB0aGlzLmljb25UeXBlID0gXCJmYXMgZmEtdGltZXNcIjtcbiAgICAgICAgdGhpcy5jbG9zZU1lbnVIYW5kbGVyID0gdGhpcy5jbG9zZU1lbnUuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgY2xvc2VNZW51KGUpIHtcbiAgICAgICAgZS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2VNZW51SGFuZGxlcik7XG4gICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudVwiKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy50b2dnbGVCdG4odGhpcyk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IGljb24gPSB0aGlzLmNyZWF0ZU1lbnVCdXR0b24odGhpcyk7XG4gICAgICAgIGljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2VNZW51SGFuZGxlcik7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/js/App/Menu/Menu.ts\n");

/***/ }),

/***/ "./app/js/App/Player/Player.ts":
/*!*************************************!*\
  !*** ./app/js/App/Player/Player.ts ***!
  \*************************************/
/*! exports provided: default, Piece */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Player; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Piece\", function() { return Piece; });\n/* harmony import */ var _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Helper/Helper */ \"./app/js/App/Helper/Helper.ts\");\n\nclass Player {\n    constructor(name, number, numberString, settings) {\n        this.active = false;\n        this.initializePieceHandler = this.initializePieceActivation.bind(this);\n        this.settings = {};\n        this.pieces = [];\n        this.piecePositionsOnGameboard = [];\n        this.prohibitedPositions = [];\n        this.threeInRows = [];\n        this.name = name;\n        this.number = number;\n        this.numberString = numberString;\n        this.numberStringUpperCase = _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].upperCaseFirstLetter(numberString);\n        this.piecesContainer = document.querySelector(`.player${this.numberStringUpperCase}.piecesContainer`);\n        this.settings = settings;\n        this.createPlayerPieces();\n    }\n    createPlayerPieces() {\n        for (let pieceNumber = 1; pieceNumber <= this.settings.piecesForEachPlayer; pieceNumber++) {\n            const pieceId = `p${this.number}_${pieceNumber}`;\n            const gamePiece = _Helper_Helper__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n                type: \"div\", id: pieceId, class: \"piece\",\n                text: `${pieceNumber}`, area: pieceId,\n                parent: this.piecesContainer\n            });\n            gamePiece.addEventListener(\"click\", this.initializePieceHandler);\n            this.pieces.push(new Piece(this, pieceId, gamePiece));\n        }\n    }\n    initializePieceActivation(e) {\n        const activePhase = this.settings.phases.find((phase) => phase.active);\n        const activatedPiece = this.pieces.find(piece => piece.element === e.target);\n        if (this.active && !this.settings.animationInProgress && !activePhase.pieceRemovalInProgress) {\n            this.activatePiece(activatedPiece);\n            activePhase.activatePiece(activatedPiece);\n        }\n    }\n    deactivateAllPieces() {\n        this.pieces.forEach(piece => piece.active = false);\n    }\n    activatePiece(activatedPiece) {\n        if (activatedPiece.active) {\n            this.deactivateAllPieces();\n            this.removeAllHighlighting();\n        }\n        else {\n            this.deactivateAllPieces();\n            activatedPiece.active = true;\n            this.highlightPiece(activatedPiece);\n            this.dehighlightPieces();\n        }\n    }\n    highlightPiece(piece) {\n        piece.element.classList.add(\"active\");\n        if (piece.element.classList.contains(\"inactive\")) {\n            piece.element.classList.remove(\"inactive\");\n        }\n    }\n    dehighlightPieces() {\n        this.pieces.forEach(piece => {\n            if (!piece.active && !piece.ontable) {\n                piece.element.classList.add(\"inactive\");\n                if (piece.element.classList.contains(\"active\")) {\n                    piece.element.classList.remove(\"active\");\n                }\n            }\n        });\n    }\n    removeAllHighlighting() {\n        this.pieces.forEach(piece => {\n            piece.element.classList.remove(\"active\");\n            piece.element.classList.remove(\"inactive\");\n        });\n    }\n}\nclass Piece {\n    constructor(player, id, element) {\n        this.active = false;\n        this.ontable = false;\n        this.partOfThreeInRow = false;\n        this._area = \"\";\n        this.player = player;\n        this.id = id;\n        this.element = element;\n    }\n    get area() {\n        return this._area;\n    }\n    set area(value) {\n        if (value.length === 3 &&\n            value[0] === \"a\" &&\n            +value[1] >= 1 && +value[1] <= 5 &&\n            +value[2] >= 1 && +value[2] <= 6) {\n            this._area = value;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvQXBwL1BsYXllci9QbGF5ZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvanMvQXBwL1BsYXllci9QbGF5ZXIudHM/MzRhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGVscGVyIGZyb20gXCIuLi9IZWxwZXIvSGVscGVyXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIG51bWJlciwgbnVtYmVyU3RyaW5nLCBzZXR0aW5ncykge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVQaWVjZUhhbmRsZXIgPSB0aGlzLmluaXRpYWxpemVQaWVjZUFjdGl2YXRpb24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHt9O1xuICAgICAgICB0aGlzLnBpZWNlcyA9IFtdO1xuICAgICAgICB0aGlzLnBpZWNlUG9zaXRpb25zT25HYW1lYm9hcmQgPSBbXTtcbiAgICAgICAgdGhpcy5wcm9oaWJpdGVkUG9zaXRpb25zID0gW107XG4gICAgICAgIHRoaXMudGhyZWVJblJvd3MgPSBbXTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XG4gICAgICAgIHRoaXMubnVtYmVyU3RyaW5nID0gbnVtYmVyU3RyaW5nO1xuICAgICAgICB0aGlzLm51bWJlclN0cmluZ1VwcGVyQ2FzZSA9IEhlbHBlci51cHBlckNhc2VGaXJzdExldHRlcihudW1iZXJTdHJpbmcpO1xuICAgICAgICB0aGlzLnBpZWNlc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wbGF5ZXIke3RoaXMubnVtYmVyU3RyaW5nVXBwZXJDYXNlfS5waWVjZXNDb250YWluZXJgKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICB0aGlzLmNyZWF0ZVBsYXllclBpZWNlcygpO1xuICAgIH1cbiAgICBjcmVhdGVQbGF5ZXJQaWVjZXMoKSB7XG4gICAgICAgIGZvciAobGV0IHBpZWNlTnVtYmVyID0gMTsgcGllY2VOdW1iZXIgPD0gdGhpcy5zZXR0aW5ncy5waWVjZXNGb3JFYWNoUGxheWVyOyBwaWVjZU51bWJlcisrKSB7XG4gICAgICAgICAgICBjb25zdCBwaWVjZUlkID0gYHAke3RoaXMubnVtYmVyfV8ke3BpZWNlTnVtYmVyfWA7XG4gICAgICAgICAgICBjb25zdCBnYW1lUGllY2UgPSBIZWxwZXIuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImRpdlwiLCBpZDogcGllY2VJZCwgY2xhc3M6IFwicGllY2VcIixcbiAgICAgICAgICAgICAgICB0ZXh0OiBgJHtwaWVjZU51bWJlcn1gLCBhcmVhOiBwaWVjZUlkLFxuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5waWVjZXNDb250YWluZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ2FtZVBpZWNlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmluaXRpYWxpemVQaWVjZUhhbmRsZXIpO1xuICAgICAgICAgICAgdGhpcy5waWVjZXMucHVzaChuZXcgUGllY2UodGhpcywgcGllY2VJZCwgZ2FtZVBpZWNlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdGlhbGl6ZVBpZWNlQWN0aXZhdGlvbihlKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBoYXNlID0gdGhpcy5zZXR0aW5ncy5waGFzZXMuZmluZCgocGhhc2UpID0+IHBoYXNlLmFjdGl2ZSk7XG4gICAgICAgIGNvbnN0IGFjdGl2YXRlZFBpZWNlID0gdGhpcy5waWVjZXMuZmluZChwaWVjZSA9PiBwaWVjZS5lbGVtZW50ID09PSBlLnRhcmdldCk7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSAmJiAhdGhpcy5zZXR0aW5ncy5hbmltYXRpb25JblByb2dyZXNzICYmICFhY3RpdmVQaGFzZS5waWVjZVJlbW92YWxJblByb2dyZXNzKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlUGllY2UoYWN0aXZhdGVkUGllY2UpO1xuICAgICAgICAgICAgYWN0aXZlUGhhc2UuYWN0aXZhdGVQaWVjZShhY3RpdmF0ZWRQaWVjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVhY3RpdmF0ZUFsbFBpZWNlcygpIHtcbiAgICAgICAgdGhpcy5waWVjZXMuZm9yRWFjaChwaWVjZSA9PiBwaWVjZS5hY3RpdmUgPSBmYWxzZSk7XG4gICAgfVxuICAgIGFjdGl2YXRlUGllY2UoYWN0aXZhdGVkUGllY2UpIHtcbiAgICAgICAgaWYgKGFjdGl2YXRlZFBpZWNlLmFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlQWxsUGllY2VzKCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUFsbEhpZ2hsaWdodGluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlQWxsUGllY2VzKCk7XG4gICAgICAgICAgICBhY3RpdmF0ZWRQaWVjZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRQaWVjZShhY3RpdmF0ZWRQaWVjZSk7XG4gICAgICAgICAgICB0aGlzLmRlaGlnaGxpZ2h0UGllY2VzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGlnaGxpZ2h0UGllY2UocGllY2UpIHtcbiAgICAgICAgcGllY2UuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICBpZiAocGllY2UuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJpbmFjdGl2ZVwiKSkge1xuICAgICAgICAgICAgcGllY2UuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5hY3RpdmVcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVoaWdobGlnaHRQaWVjZXMoKSB7XG4gICAgICAgIHRoaXMucGllY2VzLmZvckVhY2gocGllY2UgPT4ge1xuICAgICAgICAgICAgaWYgKCFwaWVjZS5hY3RpdmUgJiYgIXBpZWNlLm9udGFibGUpIHtcbiAgICAgICAgICAgICAgICBwaWVjZS5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpbmFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBpZiAocGllY2UuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcGllY2UuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZUFsbEhpZ2hsaWdodGluZygpIHtcbiAgICAgICAgdGhpcy5waWVjZXMuZm9yRWFjaChwaWVjZSA9PiB7XG4gICAgICAgICAgICBwaWVjZS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICBwaWVjZS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJpbmFjdGl2ZVwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBpZWNlIHtcbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXIsIGlkLCBlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMub250YWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBhcnRPZlRocmVlSW5Sb3cgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXJlYSA9IFwiXCI7XG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBhcmVhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXJlYTtcbiAgICB9XG4gICAgc2V0IGFyZWEodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMyAmJlxuICAgICAgICAgICAgdmFsdWVbMF0gPT09IFwiYVwiICYmXG4gICAgICAgICAgICArdmFsdWVbMV0gPj0gMSAmJiArdmFsdWVbMV0gPD0gNSAmJlxuICAgICAgICAgICAgK3ZhbHVlWzJdID49IDEgJiYgK3ZhbHVlWzJdIDw9IDYpIHtcbiAgICAgICAgICAgIHRoaXMuX2FyZWEgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/js/App/Player/Player.ts\n");

/***/ }),

/***/ "./app/js/app/settings/Settings.ts":
/*!*****************************************!*\
  !*** ./app/js/app/settings/Settings.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Settings; });\nclass Settings {\n    constructor() {\n        this._phases = [];\n        this._players = [];\n        this._menuBtns = [];\n        this._piecesForEachPlayer = 5;\n        this._animationTime = \".5s\";\n        this.menuOptions = [\"resume\", \"exit\"];\n        this.menuOptionsEst = [\"Jätka mängu\", \"Välju mängust\"];\n        this.selectors = {\n            root: document.querySelector(\":root\"),\n            gameContainer: document.querySelector(\".gameContainer\"),\n            gameboard: document.querySelector(\".gameboard\")\n        };\n        this.animationInProgress = false;\n    }\n    static get instance() {\n        if (!Settings._instance)\n            Settings._instance = new Settings();\n        return Settings._instance;\n    }\n    get players() {\n        return this._players;\n    }\n    get phases() {\n        return this._phases;\n    }\n    get menuBtns() {\n        return this._menuBtns;\n    }\n    get piecesForEachPlayer() {\n        return this._piecesForEachPlayer;\n    }\n    get animationTime() {\n        return this._animationTime;\n    }\n    set menuBtns(value) {\n        this._menuBtns = value;\n    }\n    set piecesForEachPlayer(value) {\n        if (value > 0 && value < 13)\n            this._piecesForEachPlayer = value;\n        else\n            throw new Error(\"The amount of player pieces must be between 1 and 12\");\n    }\n    set animationTime(value) {\n        this._animationTime = value;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvYXBwL3NldHRpbmdzL1NldHRpbmdzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBwL2pzL2FwcC9zZXR0aW5ncy9TZXR0aW5ncy50cz8zMGJlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNldHRpbmdzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcGhhc2VzID0gW107XG4gICAgICAgIHRoaXMuX3BsYXllcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fbWVudUJ0bnMgPSBbXTtcbiAgICAgICAgdGhpcy5fcGllY2VzRm9yRWFjaFBsYXllciA9IDU7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvblRpbWUgPSBcIi41c1wiO1xuICAgICAgICB0aGlzLm1lbnVPcHRpb25zID0gW1wicmVzdW1lXCIsIFwiZXhpdFwiXTtcbiAgICAgICAgdGhpcy5tZW51T3B0aW9uc0VzdCA9IFtcIkrDpHRrYSBtw6RuZ3VcIiwgXCJWw6RsanUgbcOkbmd1c3RcIl07XG4gICAgICAgIHRoaXMuc2VsZWN0b3JzID0ge1xuICAgICAgICAgICAgcm9vdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIjpyb290XCIpLFxuICAgICAgICAgICAgZ2FtZUNvbnRhaW5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYW1lQ29udGFpbmVyXCIpLFxuICAgICAgICAgICAgZ2FtZWJvYXJkOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbWVib2FyZFwiKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCFTZXR0aW5ncy5faW5zdGFuY2UpXG4gICAgICAgICAgICBTZXR0aW5ncy5faW5zdGFuY2UgPSBuZXcgU2V0dGluZ3MoKTtcbiAgICAgICAgcmV0dXJuIFNldHRpbmdzLl9pbnN0YW5jZTtcbiAgICB9XG4gICAgZ2V0IHBsYXllcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wbGF5ZXJzO1xuICAgIH1cbiAgICBnZXQgcGhhc2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGhhc2VzO1xuICAgIH1cbiAgICBnZXQgbWVudUJ0bnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZW51QnRucztcbiAgICB9XG4gICAgZ2V0IHBpZWNlc0ZvckVhY2hQbGF5ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waWVjZXNGb3JFYWNoUGxheWVyO1xuICAgIH1cbiAgICBnZXQgYW5pbWF0aW9uVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuaW1hdGlvblRpbWU7XG4gICAgfVxuICAgIHNldCBtZW51QnRucyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tZW51QnRucyA9IHZhbHVlO1xuICAgIH1cbiAgICBzZXQgcGllY2VzRm9yRWFjaFBsYXllcih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPiAwICYmIHZhbHVlIDwgMTMpXG4gICAgICAgICAgICB0aGlzLl9waWVjZXNGb3JFYWNoUGxheWVyID0gdmFsdWU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBhbW91bnQgb2YgcGxheWVyIHBpZWNlcyBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMTJcIik7XG4gICAgfVxuICAgIHNldCBhbmltYXRpb25UaW1lKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvblRpbWUgPSB2YWx1ZTtcbiAgICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/js/app/settings/Settings.ts\n");

/***/ })

/******/ });